{"version":3,"names":[],"mappings":"","sources":["activities/activityMarkup.js"],"sourcesContent":["\"use strict\";\r\n\r\n/* global describe,it */\r\n\r\nlet wf4node = require(\"../../../\");\r\nlet activityMarkup = wf4node.activities.activityMarkup;\r\nlet ActivityExecutionEngine = wf4node.activities.ActivityExecutionEngine;\r\nlet path = require(\"path\");\r\nlet assert = require(\"assert\");\r\nlet Expression = wf4node.activities.Expression;\r\n\r\ndescribe(\"activityMarkup\", function () {\r\n    it(\"should load custom activity type from string\", function (done) {\r\n        let activity = activityMarkup.parse({\r\n            \"@block\": {\r\n                \"@require\": path.join(__dirname, \"/customActivities/adder\"),\r\n                a: 10,\r\n                b: 20,\r\n                c: 30,\r\n                args: [\r\n                    {\r\n                        \"@adder\": [\"=this.a\", \"=this.b\", \"=this.c\"]\r\n                    }\r\n                ]\r\n            }\r\n        });\r\n\r\n        let engine = new ActivityExecutionEngine(activity);\r\n\r\n        engine.invoke()\r\n            .then(\r\n            function (result) {\r\n                assert.equal(result, 10 + 20 + 30);\r\n            }).nodeify(done);\r\n    });\r\n\r\n    it(\"should load custom activity type from array\", function (done) {\r\n        let activity = activityMarkup.parse({\r\n            \"@require\": [ path.join(__dirname, \"/customActivities/adder\") ],\r\n            \"@block\": {\r\n                a: 1,\r\n                b: 2,\r\n                c: 3,\r\n                args: [\r\n                    {\r\n                        \"@adder\": [\"= this.a\", \"= this.b\", \"= this.c\"]\r\n                    }\r\n                ]\r\n            }\r\n        });\r\n\r\n        let engine = new ActivityExecutionEngine(activity);\r\n\r\n        engine.invoke()\r\n            .then(\r\n            function (result) {\r\n                assert.equal(result, 1 + 2 + 3);\r\n            }).nodeify(done);\r\n    });\r\n});"],"file":"activities/activityMarkup.js","sourceRoot":"/source/"}