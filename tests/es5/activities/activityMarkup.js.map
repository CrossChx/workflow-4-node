{"version":3,"names":[],"mappings":"","sources":["activities/activityMarkup.js"],"sourcesContent":["\"use strict\";\n\n/* global describe,it */\n\nlet wf4node = require(\"../../../\");\nlet activityMarkup = wf4node.activities.activityMarkup;\nlet ActivityExecutionEngine = wf4node.activities.ActivityExecutionEngine;\nlet path = require(\"path\");\nlet assert = require(\"assert\");\nlet Expression = wf4node.activities.Expression;\n\ndescribe(\"activityMarkup\", function () {\n    it(\"should load custom activity type from string\", function (done) {\n        let activity = activityMarkup.parse({\n            \"@block\": {\n                \"@require\": path.join(__dirname, \"/customActivities/adder\"),\n                a: 10,\n                b: 20,\n                c: 30,\n                args: [\n                    {\n                        \"@adder\": [\"=this.a\", \"=this.b\", \"=this.c\"]\n                    }\n                ]\n            }\n        });\n\n        let engine = new ActivityExecutionEngine(activity);\n\n        engine.invoke()\n            .then(\n            function (result) {\n                assert.equal(result, 10 + 20 + 30);\n            }).nodeify(done);\n    });\n\n    it(\"should load custom activity type from array\", function (done) {\n        let activity = activityMarkup.parse({\n            \"@require\": [ path.join(__dirname, \"/customActivities/adder\") ],\n            \"@block\": {\n                a: 1,\n                b: 2,\n                c: 3,\n                args: [\n                    {\n                        \"@adder\": [\"= this.a\", \"= this.b\", \"= this.c\"]\n                    }\n                ]\n            }\n        });\n\n        let engine = new ActivityExecutionEngine(activity);\n\n        engine.invoke()\n            .then(\n            function (result) {\n                assert.equal(result, 1 + 2 + 3);\n            }).nodeify(done);\n    });\n});"],"file":"activities/activityMarkup.js","sourceRoot":"/source/"}