"use strict";
var wf4node = require("../../../");
var Expression = wf4node.activities.Expression;
var Func = wf4node.activities.Func;
var Block = wf4node.activities.Block;
var activityMarkup = wf4node.activities.activityMarkup;
var ActivityExecutionEngine = wf4node.activities.ActivityExecutionEngine;
var _ = require("lodash");
var ConsoleTracker = wf4node.activities.ConsoleTracker;
var WorkflowHost = wf4node.hosting.WorkflowHost;
var InstanceIdParser = wf4node.hosting.InstanceIdParser;
var Promise = require("bluebird");
var assert = require("assert");
describe("Func", function() {
  it("should run with a synchronous code", function(done) {
    var fop = new Func();
    fop.code = function(obj) {
      return obj.name;
    };
    var engine = new ActivityExecutionEngine(fop);
    engine.invoke({name: "Gabor"}).then(function(result) {
      assert.equal(result, "Gabor");
    }).nodeify(done);
  });
  it("should run when created from markup", function(done) {
    var fop = activityMarkup.parse({func: {code: function(obj) {
          return obj.name;
        }}});
    var engine = new ActivityExecutionEngine(fop);
    engine.invoke({name: "Gabor"}).then(function(result) {
      assert.equal(result, "Gabor");
    }).nodeify(done);
  });
  it("should run when code is asynchronous", function(done) {
    var fop = new Func();
    fop.code = function(obj) {
      return Promise.resolve(obj.name);
    };
    var engine = new ActivityExecutionEngine(fop);
    engine.invoke({name: "Mezo"}).then(function(result) {
      assert.equal(result, "Mezo");
    }).nodeify(done);
  });
  it("should accept external parameters those are functions also", function(done) {
    var expected = {name: "Gabor"};
    var fop = new Func();
    fop.code = function(obj) {
      return obj.name;
    };
    var fopin = new Func();
    fopin.code = function() {
      return expected;
    };
    var engine = new ActivityExecutionEngine(fop);
    engine.invoke(fopin).then(function(result) {
      assert.equal(result, expected.name);
    }).nodeify(done);
  });
  it("should work as an agument", function(done) {
    var expected = {name: "Gabor"};
    var fop = activityMarkup.parse({func: {
        args: {func: {code: function() {
              return expected;
            }}},
        code: function(obj) {
          return obj.name;
        }
      }});
    var engine = new ActivityExecutionEngine(fop);
    engine.invoke().then(function(result) {
      assert.equal(result, expected.name);
    }).nodeify(done);
  });
});
describe("Block", function() {
  it("should handle variables well", function(done) {
    var block = new Block();
    block.var1 = 1;
    block.var2 = 2;
    block.var3 = 3;
    var f1 = new Func();
    f1.code = function() {
      return this.set("var3", this.get("var3") + this.get("var1") * 2);
    };
    var f2 = new Func();
    f2.code = function() {
      return this.set("var3", this.get("var3") + this.get("var2") * 3);
    };
    var f3 = new Func();
    f3.code = function() {
      return this.get("var3") * 4;
    };
    var engine = new ActivityExecutionEngine(block);
    engine.invoke(f1, f2, f3).then(function(result) {
      var x1 = 1;
      var x2 = 2;
      var x3 = 3;
      x3 += x1 * 2;
      x3 += x2 * 3;
      var r = x3 * 4;
      assert.equal(result, r);
    }).nodeify(done);
  });
  it("can be generated from markup", function(done) {
    var block = activityMarkup.parse({block: {
        var1: 1,
        var2: {func: {code: function() {
              return 2;
            }}},
        var3: 3,
        args: [{func: {code: function bubu() {
              return this.set("var3", this.get("var3") + this.get("var1") * 2);
            }}}, {func: {code: function kittyfuck() {
              return this.set("var3", this.get("var3") + this.get("var2") * 3);
            }}}, {func: {code: function() {
              return this.get("var3") * 4;
            }}}]
      }});
    var engine = new ActivityExecutionEngine(block);
    engine.invoke().then(function(result) {
      var x1 = 1;
      var x2 = 2;
      var x3 = 3;
      x3 += x1 * 2;
      x3 += x2 * 3;
      var r = x3 * 4;
      assert.equal(result, r);
    }).nodeify(done);
  });
  it("can be generated from markup string", function(done) {
    var markup = {block: {
        var1: 1,
        var2: 2,
        var3: 3,
        args: [{func: {code: function bubu() {
              return this.set("var3", this.get("var3") + this.get("var1") * 2);
            }}}, {func: {code: function kittyfuck() {
              return this.set("var3", this.get("var3") + this.get("var2") * 3);
            }}}, {func: {code: function() {
              return this.get("var3") * 4;
            }}}]
      }};
    var markupString = activityMarkup.stringify(markup);
    assert.ok(_.isString(markupString));
    var block = activityMarkup.parse(markupString);
    var engine = new ActivityExecutionEngine(block);
    engine.invoke().then(function(result) {
      var x1 = 1;
      var x2 = 2;
      var x3 = 3;
      x3 += x1 * 2;
      x3 += x2 * 3;
      var r = x3 * 4;
      assert.equal(result, r);
    }).nodeify(done);
  });
});
describe("Parallel", function() {
  it("should work as expected with sync activities", function(done) {
    var activity = activityMarkup.parse({parallel: {
        var1: "",
        args: [{func: {code: function() {
              return this.add("var1", "a");
            }}}, {func: {code: 'function() { return this.add("var1", "b"); }'}}]
      }});
    var engine = new ActivityExecutionEngine(activity);
    engine.invoke().then(function(result) {
      assert.equal(result.length, 2);
      assert.equal(result[0], "a");
      assert.equal(result[1], "ab");
    }).nodeify(done);
  });
  it("should work as expected with async activities", function(done) {
    var activity = activityMarkup.parse({parallel: {
        var1: "",
        args: [{func: {code: function() {
              return this.add("var1", "a");
            }}}, {func: {code: 'function() { return this.add("var1", "b"); }'}}, {func: {code: function() {
              return Promise.delay(100).then(function() {
                return 42;
              });
            }}}, {func: {code: function() {
              return new Promise(function(resolve, reject) {
                setImmediate(function() {
                  resolve(0);
                });
              });
            }}}]
      }});
    var engine = new ActivityExecutionEngine(activity);
    engine.invoke().then(function(result) {
      assert.equal(result.length, 4);
      assert.equal(result[0], "a");
      assert.equal(result[1], "ab");
      assert.equal(result[2], 42);
      assert.equal(result[3], 0);
    }).nodeify(done);
  });
});
describe("Pick", function() {
  it("should work as expected with sync activities", function(done) {
    var activity = activityMarkup.parse({pick: {
        var1: "",
        args: [{func: {code: function() {
              return this.add("var1", "a");
            }}}, {func: {code: 'function() { return this.add("var1", "b"); }'}}]
      }});
    var engine = new ActivityExecutionEngine(activity);
    engine.invoke().then(function(result) {
      assert.equal(result, "a");
    }).nodeify(done);
  });
  it("should work as expected with async activities", function(done) {
    var activity = activityMarkup.parse({pick: [{func: {code: function() {
            return Promise.delay(100).then(function() {
              return 42;
            });
          }}}, {func: {code: function() {
            return new Promise(function(resolve, reject) {
              setImmediate(function() {
                resolve(0);
              });
            });
          }}}]});
    var engine = new ActivityExecutionEngine(activity);
    engine.invoke().then(function(result) {
      assert.equal(result, 0);
    }).nodeify(done);
  });
});
describe("Expression", function() {
  it("should multiply two numbers", function(done) {
    var expr = new Expression();
    expr.expr = "this.get('v') * this.get('v')";
    var block = new Block();
    block.v = 2;
    block.args = [expr];
    var engine = new ActivityExecutionEngine(block);
    engine.invoke().then(function(result) {
      assert.equal(result, 4);
    }).nodeify(done);
  });
  it("should works from markup", function(done) {
    var block = activityMarkup.parse({block: {
        v: 2,
        args: ["# this.get('v') * this.get('v')"]
      }});
    var engine = new ActivityExecutionEngine(block);
    engine.invoke().then(function(result) {
      assert.equal(result, 4);
    }).nodeify(done);
  });
});
describe("While", function() {
  it("should run a basic cycle", function(done) {
    var block = activityMarkup.parse({block: {
        i: 10,
        j: 0,
        z: 0,
        args: [{while: {
            condition: "# this.get('j') < this.get('i')",
            body: "# this.postfixInc('j')",
            "@to": "z"
          }}, "# { j: this.get('j'), z: this.get('z') }"]
      }});
    var engine = new ActivityExecutionEngine(block);
    engine.invoke().then(function(result) {
      assert.ok(_.isObject(result));
      assert.equal(result.j, 10);
      assert.equal(result.z, 9);
    }).nodeify(done);
  });
});
describe("If", function() {
  it("should call then body", function(done) {
    var block = activityMarkup.parse({block: {
        v: 5,
        args: [{if: {
            condition: "# this.get('v') == 5",
            thenBody: {func: {
                args: [1],
                code: function(a) {
                  return a + this.get('v');
                }
              }},
            elseBody: {func: {
                args: [2],
                code: function(a) {
                  return a + this.get('v');
                }
              }}
          }}]
      }});
    var engine = new ActivityExecutionEngine(block);
    engine.invoke().then(function(result) {
      assert.equal(1 + 5, result);
    }).nodeify(done);
  });
  it("should call else body", function(done) {
    var block = activityMarkup.parse({block: {
        v: 5,
        r: 0,
        args: [{if: {
            condition: {func: {code: function() {
                  return false;
                }}},
            thenBody: {func: {
                args: [1],
                code: function(a) {
                  this.set("r", a + this.get("v"));
                }
              }},
            elseBody: {func: {
                args: [2],
                code: function(a) {
                  this.set("r", a + this.get("v"));
                }
              }}
          }}, "# this.get('r')"]
      }});
    var engine = new ActivityExecutionEngine(block);
    engine.invoke().then(function(result) {
      assert.equal(2 + 5, result);
    }).nodeify(done);
  });
});
describe('Logic Operators', function() {
  describe('Truthy', function() {
    it('should work', function(done) {
      var engine = new ActivityExecutionEngine({block: {
          t1: {truthy: {value: 'a'}},
          t2: {truthy: {value: null}},
          t3: {truthy: {
              value: true,
              is: 'is',
              isNot: 'isNot'
            }},
          t4: {truthy: {
              value: null,
              is: 'is',
              isNot: {func: {code: function() {
                    return 'isNot';
                  }}}
            }},
          args: [['# this.get("t1")', '# this.get("t2")', '# this.get("t3")', '# this.get("t4")']]
        }});
      engine.invoke().then(function(result) {
        assert.ok(_.isArray(result));
        assert.equal(result[0], true);
        assert.equal(result[1], false);
        assert.equal(result[2], 'is');
        assert.equal(result[3], 'isNot');
      }).nodeify(done);
    });
  });
  describe('Falsy', function() {
    it('should work', function(done) {
      var engine = new ActivityExecutionEngine({block: {
          t1: {falsy: {value: 'a'}},
          t2: {falsy: {value: null}},
          t3: {falsy: {
              value: true,
              is: 'is',
              isNot: 'isNot'
            }},
          t4: {falsy: {
              value: null,
              is: '# "is"',
              isNot: {func: {code: function() {
                    return 'isNot';
                  }}}
            }},
          args: [['# this.get("t1")', '# this.get("t2")', '# this.get("t3")', '# this.get("t4")']]
        }});
      engine.invoke().then(function(result) {
        assert.ok(_.isArray(result));
        assert.equal(result[0], false);
        assert.equal(result[1], true);
        assert.equal(result[2], 'isNot');
        assert.equal(result[3], 'is');
      }).nodeify(done);
    });
  });
  describe('Equals', function() {
    it('should work', function(done) {
      var engine = new ActivityExecutionEngine({block: {
          a: {equals: {
              value: function() {
                return 42;
              },
              to: '# 40 + 2 ',
              is: function() {
                return '42';
              },
              isNot: 'aba'
            }},
          b: {equals: {
              value: function() {
                return 42;
              },
              to: '# 40 + 1 ',
              is: function() {
                return '42';
              },
              isNot: 'aba'
            }},
          args: {
            a: '# this.get("a")',
            b: '# this.get("b")'
          }
        }});
      engine.invoke().then(function(result) {
        assert.ok(_.isPlainObject(result));
        assert.equal(result.a, '42');
        assert.equal(result.b, 'aba');
      }).nodeify(done);
    });
  });
  describe('NotEquals', function() {
    it('should work', function(done) {
      var engine = new ActivityExecutionEngine({block: {
          a: {notEquals: {
              value: function() {
                return 42;
              },
              to: '# 40 + 2 ',
              is: function() {
                return '42';
              },
              isNot: 'aba'
            }},
          b: {notEquals: {
              value: function() {
                return 42;
              },
              to: '# 40 + 1 ',
              is: function() {
                return '42';
              },
              isNot: 'aba'
            }},
          args: {
            a: '# this.get("a")',
            b: '# this.get("b")'
          }
        }});
      engine.invoke().then(function(result) {
        assert.ok(_.isPlainObject(result));
        assert.equal(result.a, 'aba');
        assert.equal(result.b, '42');
      }).nodeify(done);
    });
  });
  describe('Not, And, Or', function() {
    it('should work', function(done) {
      var engine = new ActivityExecutionEngine({block: {
          a: {and: [true, 'bubu', {or: ['# true', false]}, {not: [{and: [true, function() {
                  return null;
                }]}]}]},
          b: {and: {
              args: [{or: ['# true', false]}, {not: [{and: [true, '# [ 42 ]']}]}],
              isFalse: function() {
                return Promise.delay(100).then(function() {
                  return 42;
                });
              }
            }},
          args: {
            a: '# this.get("a")',
            b: '# this.get("b")'
          }
        }});
      engine.invoke().then(function(result) {
        assert.ok(_.isPlainObject(result));
        assert.equal(result.a, true);
        assert.equal(result.b, 42);
      }).nodeify(done);
    });
  });
});
//# sourceMappingURL=data:application/json;base64,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QUFDLFNBQVUsQUFBRCxDQUFHO0FBQ3ZDLHVCQUFPLEdBQUMsQ0FBQztnQkFDYixDQUFDLENBQUM7Y0FDTjtBQUFBLFlBQ0osQ0FDSjtBQUNBLGFBQUcsQ0FBRztBQUNGLFlBQUEsQ0FBRyxrQkFBZ0I7QUFDbkIsWUFBQSxDQUFHLGtCQUFnQjtBQUFBLFVBQ3ZCO0FBQUEsUUFDSixDQUNKLENBQUMsQ0FBQztBQUVGLFdBQUssT0FBTyxBQUFDLEVBQUMsS0FBSyxBQUFDLENBQ2hCLFNBQVUsTUFBSyxDQUFHO0FBQ2QsYUFBSyxHQUFHLEFBQUMsQ0FBQyxDQUFBLGNBQWMsQUFBQyxDQUFDLE1BQUssQ0FBQyxDQUFDLENBQUM7QUFDbEMsYUFBSyxNQUFNLEFBQUMsQ0FBQyxNQUFLLEVBQUUsQ0FBRyxLQUFHLENBQUMsQ0FBQztBQUM1QixhQUFLLE1BQU0sQUFBQyxDQUFDLE1BQUssRUFBRSxDQUFHLEdBQUMsQ0FBQyxDQUFDO01BQzlCLENBQUMsUUFBUSxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUM7SUFDeEIsQ0FBQyxDQUFDO0VBQ04sQ0FBQyxDQUFDO0FBQ04sQ0FBQyxDQUFDO0FBQ0YiLCJmaWxlIjoiYWN0aXZpdGllcy9iYXNpY1Rlc3RzLmpzIiwic291cmNlUm9vdCI6InRlc3RzL2VzNiIsInNvdXJjZXNDb250ZW50IjpbInZhciB3ZjRub2RlID0gcmVxdWlyZShcIi4uLy4uLy4uL1wiKTtcclxudmFyIEV4cHJlc3Npb24gPSB3ZjRub2RlLmFjdGl2aXRpZXMuRXhwcmVzc2lvbjtcclxudmFyIEZ1bmMgPSB3ZjRub2RlLmFjdGl2aXRpZXMuRnVuYztcclxudmFyIEJsb2NrID0gd2Y0bm9kZS5hY3Rpdml0aWVzLkJsb2NrO1xyXG52YXIgYWN0aXZpdHlNYXJrdXAgPSB3ZjRub2RlLmFjdGl2aXRpZXMuYWN0aXZpdHlNYXJrdXA7XHJcbnZhciBBY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZSA9IHdmNG5vZGUuYWN0aXZpdGllcy5BY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZTtcclxudmFyIF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xyXG52YXIgQ29uc29sZVRyYWNrZXIgPSB3ZjRub2RlLmFjdGl2aXRpZXMuQ29uc29sZVRyYWNrZXI7XHJcbnZhciBXb3JrZmxvd0hvc3QgPSB3ZjRub2RlLmhvc3RpbmcuV29ya2Zsb3dIb3N0O1xyXG52YXIgSW5zdGFuY2VJZFBhcnNlciA9IHdmNG5vZGUuaG9zdGluZy5JbnN0YW5jZUlkUGFyc2VyO1xyXG52YXIgUHJvbWlzZSA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTtcclxuXHJcbnZhciBhc3NlcnQgPSByZXF1aXJlKFwiYXNzZXJ0XCIpO1xyXG5cclxuZGVzY3JpYmUoXCJGdW5jXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIGl0KFwic2hvdWxkIHJ1biB3aXRoIGEgc3luY2hyb25vdXMgY29kZVwiLCBmdW5jdGlvbiAoZG9uZSkge1xyXG4gICAgICAgIHZhciBmb3AgPSBuZXcgRnVuYygpO1xyXG4gICAgICAgIGZvcC5jb2RlID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqLm5hbWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGVuZ2luZSA9IG5ldyBBY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZShmb3ApO1xyXG5cclxuICAgICAgICBlbmdpbmUuaW52b2tlKHtuYW1lOiBcIkdhYm9yXCJ9KS50aGVuKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LCBcIkdhYm9yXCIpO1xyXG4gICAgICAgICAgICB9KS5ub2RlaWZ5KGRvbmUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoXCJzaG91bGQgcnVuIHdoZW4gY3JlYXRlZCBmcm9tIG1hcmt1cFwiLCBmdW5jdGlvbiAoZG9uZSkge1xyXG4gICAgICAgIHZhciBmb3AgPSBhY3Rpdml0eU1hcmt1cC5wYXJzZShcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZnVuYzoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iai5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBlbmdpbmUgPSBuZXcgQWN0aXZpdHlFeGVjdXRpb25FbmdpbmUoZm9wKTtcclxuXHJcbiAgICAgICAgZW5naW5lLmludm9rZSh7bmFtZTogXCJHYWJvclwifSkudGhlbihcclxuICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdCwgXCJHYWJvclwiKTtcclxuICAgICAgICAgICAgfSkubm9kZWlmeShkb25lKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KFwic2hvdWxkIHJ1biB3aGVuIGNvZGUgaXMgYXN5bmNocm9ub3VzXCIsIGZ1bmN0aW9uIChkb25lKSB7XHJcbiAgICAgICAgdmFyIGZvcCA9IG5ldyBGdW5jKCk7XHJcbiAgICAgICAgZm9wLmNvZGUgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUob2JqLm5hbWUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBlbmdpbmUgPSBuZXcgQWN0aXZpdHlFeGVjdXRpb25FbmdpbmUoZm9wKTtcclxuXHJcbiAgICAgICAgZW5naW5lLmludm9rZSh7bmFtZTogXCJNZXpvXCJ9KS50aGVuKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LCBcIk1lem9cIik7XHJcbiAgICAgICAgICAgIH0pLm5vZGVpZnkoZG9uZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdChcInNob3VsZCBhY2NlcHQgZXh0ZXJuYWwgcGFyYW1ldGVycyB0aG9zZSBhcmUgZnVuY3Rpb25zIGFsc29cIiwgZnVuY3Rpb24gKGRvbmUpIHtcclxuICAgICAgICB2YXIgZXhwZWN0ZWQgPSB7bmFtZTogXCJHYWJvclwifTtcclxuICAgICAgICB2YXIgZm9wID0gbmV3IEZ1bmMoKTtcclxuICAgICAgICBmb3AuY29kZSA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iai5uYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGZvcGluID0gbmV3IEZ1bmMoKTtcclxuICAgICAgICBmb3Bpbi5jb2RlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwZWN0ZWQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGVuZ2luZSA9IG5ldyBBY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZShmb3ApO1xyXG4gICAgICAgIC8vZW5naW5lLmFkZFRyYWNrZXIobmV3IENvbnNvbGVUcmFja2VyKCkpO1xyXG5cclxuICAgICAgICBlbmdpbmUuaW52b2tlKGZvcGluKS50aGVuKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LCBleHBlY3RlZC5uYW1lKTtcclxuICAgICAgICAgICAgfSkubm9kZWlmeShkb25lKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KFwic2hvdWxkIHdvcmsgYXMgYW4gYWd1bWVudFwiLCBmdW5jdGlvbiAoZG9uZSkge1xyXG4gICAgICAgIHZhciBleHBlY3RlZCA9IHtuYW1lOiBcIkdhYm9yXCJ9O1xyXG5cclxuICAgICAgICB2YXIgZm9wID0gYWN0aXZpdHlNYXJrdXAucGFyc2UoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZ1bmM6IHtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwZWN0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iai5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBlbmdpbmUgPSBuZXcgQWN0aXZpdHlFeGVjdXRpb25FbmdpbmUoZm9wKTtcclxuXHJcbiAgICAgICAgZW5naW5lLmludm9rZSgpLnRoZW4oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHQsIGV4cGVjdGVkLm5hbWUpO1xyXG4gICAgICAgICAgICB9KS5ub2RlaWZ5KGRvbmUpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoXCJCbG9ja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBpdChcInNob3VsZCBoYW5kbGUgdmFyaWFibGVzIHdlbGxcIiwgZnVuY3Rpb24gKGRvbmUpIHtcclxuICAgICAgICB2YXIgYmxvY2sgPSBuZXcgQmxvY2soKTtcclxuICAgICAgICBibG9jay52YXIxID0gMTtcclxuICAgICAgICBibG9jay52YXIyID0gMjtcclxuICAgICAgICBibG9jay52YXIzID0gMztcclxuXHJcbiAgICAgICAgdmFyIGYxID0gbmV3IEZ1bmMoKTtcclxuICAgICAgICBmMS5jb2RlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXQoXCJ2YXIzXCIsIHRoaXMuZ2V0KFwidmFyM1wiKSArIHRoaXMuZ2V0KFwidmFyMVwiKSAqIDIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGYyID0gbmV3IEZ1bmMoKTtcclxuICAgICAgICBmMi5jb2RlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXQoXCJ2YXIzXCIsIHRoaXMuZ2V0KFwidmFyM1wiKSArIHRoaXMuZ2V0KFwidmFyMlwiKSAqIDMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGYzID0gbmV3IEZ1bmMoKTtcclxuICAgICAgICBmMy5jb2RlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoXCJ2YXIzXCIpICogNDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBlbmdpbmUgPSBuZXcgQWN0aXZpdHlFeGVjdXRpb25FbmdpbmUoYmxvY2spO1xyXG5cclxuICAgICAgICBlbmdpbmUuaW52b2tlKGYxLCBmMiwgZjMpLnRoZW4oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB4MSA9IDE7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDIgPSAyO1xyXG4gICAgICAgICAgICAgICAgdmFyIHgzID0gMztcclxuICAgICAgICAgICAgICAgIHgzICs9IHgxICogMjtcclxuICAgICAgICAgICAgICAgIHgzICs9IHgyICogMztcclxuICAgICAgICAgICAgICAgIHZhciByID0geDMgKiA0O1xyXG4gICAgICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdCwgcik7XHJcbiAgICAgICAgICAgIH0pLm5vZGVpZnkoZG9uZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdChcImNhbiBiZSBnZW5lcmF0ZWQgZnJvbSBtYXJrdXBcIiwgZnVuY3Rpb24gKGRvbmUpIHtcclxuICAgICAgICB2YXIgYmxvY2sgPSBhY3Rpdml0eU1hcmt1cC5wYXJzZShcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYmxvY2s6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIxOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhcjI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB2YXIzOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGZ1bmN0aW9uIGJ1YnUoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldChcInZhcjNcIiwgdGhpcy5nZXQoXCJ2YXIzXCIpICsgdGhpcy5nZXQoXCJ2YXIxXCIpICogMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogZnVuY3Rpb24ga2l0dHlmdWNrKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXQoXCJ2YXIzXCIsIHRoaXMuZ2V0KFwidmFyM1wiKSArIHRoaXMuZ2V0KFwidmFyMlwiKSAqIDMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KFwidmFyM1wiKSAqIDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGVuZ2luZSA9IG5ldyBBY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZShibG9jayk7XHJcblxyXG4gICAgICAgIGVuZ2luZS5pbnZva2UoKS50aGVuKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIHgyID0gMjtcclxuICAgICAgICAgICAgICAgIHZhciB4MyA9IDM7XHJcbiAgICAgICAgICAgICAgICB4MyArPSB4MSAqIDI7XHJcbiAgICAgICAgICAgICAgICB4MyArPSB4MiAqIDM7XHJcbiAgICAgICAgICAgICAgICB2YXIgciA9IHgzICogNDtcclxuICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHQsIHIpO1xyXG4gICAgICAgICAgICB9KS5ub2RlaWZ5KGRvbmUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoXCJjYW4gYmUgZ2VuZXJhdGVkIGZyb20gbWFya3VwIHN0cmluZ1wiLCBmdW5jdGlvbiAoZG9uZSkge1xyXG4gICAgICAgIHZhciBtYXJrdXAgPSB7XHJcbiAgICAgICAgICAgIGJsb2NrOiB7XHJcbiAgICAgICAgICAgICAgICB2YXIxOiAxLFxyXG4gICAgICAgICAgICAgICAgdmFyMjogMixcclxuICAgICAgICAgICAgICAgIHZhcjM6IDMsXHJcbiAgICAgICAgICAgICAgICBhcmdzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBmdW5jdGlvbiBidWJ1KCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldChcInZhcjNcIiwgdGhpcy5nZXQoXCJ2YXIzXCIpICsgdGhpcy5nZXQoXCJ2YXIxXCIpICogMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogZnVuY3Rpb24ga2l0dHlmdWNrKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldChcInZhcjNcIiwgdGhpcy5nZXQoXCJ2YXIzXCIpICsgdGhpcy5nZXQoXCJ2YXIyXCIpICogMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChcInZhcjNcIikgKiA0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIG1hcmt1cFN0cmluZyA9IGFjdGl2aXR5TWFya3VwLnN0cmluZ2lmeShtYXJrdXApO1xyXG4gICAgICAgIGFzc2VydC5vayhfLmlzU3RyaW5nKG1hcmt1cFN0cmluZykpO1xyXG4gICAgICAgIHZhciBibG9jayA9IGFjdGl2aXR5TWFya3VwLnBhcnNlKG1hcmt1cFN0cmluZyk7XHJcblxyXG4gICAgICAgIHZhciBlbmdpbmUgPSBuZXcgQWN0aXZpdHlFeGVjdXRpb25FbmdpbmUoYmxvY2spO1xyXG5cclxuICAgICAgICBlbmdpbmUuaW52b2tlKCkudGhlbihcclxuICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHgxID0gMTtcclxuICAgICAgICAgICAgICAgIHZhciB4MiA9IDI7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDMgPSAzO1xyXG4gICAgICAgICAgICAgICAgeDMgKz0geDEgKiAyO1xyXG4gICAgICAgICAgICAgICAgeDMgKz0geDIgKiAzO1xyXG4gICAgICAgICAgICAgICAgdmFyIHIgPSB4MyAqIDQ7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LCByKTtcclxuICAgICAgICAgICAgfSkubm9kZWlmeShkb25lKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbmRlc2NyaWJlKFwiUGFyYWxsZWxcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgaXQoXCJzaG91bGQgd29yayBhcyBleHBlY3RlZCB3aXRoIHN5bmMgYWN0aXZpdGllc1wiLCBmdW5jdGlvbiAoZG9uZSkge1xyXG4gICAgICAgIHZhciBhY3Rpdml0eSA9IGFjdGl2aXR5TWFya3VwLnBhcnNlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbGxlbDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhcjE6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hZGQoXCJ2YXIxXCIsIFwiYVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAnZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmFkZChcInZhcjFcIiwgXCJiXCIpOyB9J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGVuZ2luZSA9IG5ldyBBY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZShhY3Rpdml0eSk7XHJcbiAgICAgICAgLy9lbmdpbmUuYWRkVHJhY2tlcihuZXcgQ29uc29sZVRyYWNrZXIoKSk7XHJcblxyXG4gICAgICAgIGVuZ2luZS5pbnZva2UoKS50aGVuKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0Lmxlbmd0aCwgMik7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0WzBdLCBcImFcIik7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0WzFdLCBcImFiXCIpO1xyXG4gICAgICAgICAgICB9KS5ub2RlaWZ5KGRvbmUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoXCJzaG91bGQgd29yayBhcyBleHBlY3RlZCB3aXRoIGFzeW5jIGFjdGl2aXRpZXNcIiwgZnVuY3Rpb24gKGRvbmUpIHtcclxuICAgICAgICB2YXIgYWN0aXZpdHkgPSBhY3Rpdml0eU1hcmt1cC5wYXJzZShcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFyYWxsZWw6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIxOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkKFwidmFyMVwiLCBcImFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogJ2Z1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5hZGQoXCJ2YXIxXCIsIFwiYlwiKTsgfSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuZGVsYXkoMTAwKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA0MjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGVuZ2luZSA9IG5ldyBBY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZShhY3Rpdml0eSk7XHJcbiAgICAgICAgLy9lbmdpbmUuYWRkVHJhY2tlcihuZXcgQ29uc29sZVRyYWNrZXIoKSk7XHJcblxyXG4gICAgICAgIGVuZ2luZS5pbnZva2UoKS50aGVuKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0Lmxlbmd0aCwgNCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0WzBdLCBcImFcIik7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0WzFdLCBcImFiXCIpO1xyXG4gICAgICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdFsyXSwgNDIpO1xyXG4gICAgICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdFszXSwgMCk7XHJcbiAgICAgICAgICAgIH0pLm5vZGVpZnkoZG9uZSk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5kZXNjcmliZShcIlBpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgaXQoXCJzaG91bGQgd29yayBhcyBleHBlY3RlZCB3aXRoIHN5bmMgYWN0aXZpdGllc1wiLCBmdW5jdGlvbiAoZG9uZSkge1xyXG4gICAgICAgIHZhciBhY3Rpdml0eSA9IGFjdGl2aXR5TWFya3VwLnBhcnNlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwaWNrOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyMTogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZChcInZhcjFcIiwgXCJhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6ICdmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuYWRkKFwidmFyMVwiLCBcImJcIik7IH0nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgZW5naW5lID0gbmV3IEFjdGl2aXR5RXhlY3V0aW9uRW5naW5lKGFjdGl2aXR5KTtcclxuXHJcbiAgICAgICAgZW5naW5lLmludm9rZSgpLnRoZW4oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHQsIFwiYVwiKTtcclxuICAgICAgICAgICAgfSkubm9kZWlmeShkb25lKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KFwic2hvdWxkIHdvcmsgYXMgZXhwZWN0ZWQgd2l0aCBhc3luYyBhY3Rpdml0aWVzXCIsIGZ1bmN0aW9uIChkb25lKSB7XHJcbiAgICAgICAgdmFyIGFjdGl2aXR5ID0gYWN0aXZpdHlNYXJrdXAucGFyc2UoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBpY2s6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5kZWxheSgxMDApLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gNDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGVuZ2luZSA9IG5ldyBBY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZShhY3Rpdml0eSk7XHJcblxyXG4gICAgICAgIGVuZ2luZS5pbnZva2UoKS50aGVuKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LCAwKTtcclxuICAgICAgICAgICAgfSkubm9kZWlmeShkb25lKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbmRlc2NyaWJlKFwiRXhwcmVzc2lvblwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBpdChcInNob3VsZCBtdWx0aXBseSB0d28gbnVtYmVyc1wiLCBmdW5jdGlvbiAoZG9uZSkge1xyXG4gICAgICAgIHZhciBleHByID0gbmV3IEV4cHJlc3Npb24oKTtcclxuICAgICAgICBleHByLmV4cHIgPSBcInRoaXMuZ2V0KCd2JykgKiB0aGlzLmdldCgndicpXCI7XHJcbiAgICAgICAgdmFyIGJsb2NrID0gbmV3IEJsb2NrKCk7XHJcbiAgICAgICAgYmxvY2sudiA9IDI7XHJcbiAgICAgICAgYmxvY2suYXJncyA9IFtleHByXTtcclxuXHJcbiAgICAgICAgdmFyIGVuZ2luZSA9IG5ldyBBY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZShibG9jayk7XHJcblxyXG4gICAgICAgIGVuZ2luZS5pbnZva2UoKS50aGVuKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LCA0KTtcclxuICAgICAgICAgICAgfSkubm9kZWlmeShkb25lKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KFwic2hvdWxkIHdvcmtzIGZyb20gbWFya3VwXCIsIGZ1bmN0aW9uIChkb25lKSB7XHJcbiAgICAgICAgdmFyIGJsb2NrID0gYWN0aXZpdHlNYXJrdXAucGFyc2UoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGJsb2NrOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdjogMixcclxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIyB0aGlzLmdldCgndicpICogdGhpcy5nZXQoJ3YnKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGVuZ2luZSA9IG5ldyBBY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZShibG9jayk7XHJcblxyXG4gICAgICAgIGVuZ2luZS5pbnZva2UoKS50aGVuKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LCA0KTtcclxuICAgICAgICAgICAgfSkubm9kZWlmeShkb25lKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbmRlc2NyaWJlKFwiV2hpbGVcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgaXQoXCJzaG91bGQgcnVuIGEgYmFzaWMgY3ljbGVcIiwgZnVuY3Rpb24gKGRvbmUpIHtcclxuICAgICAgICB2YXIgYmxvY2sgPSBhY3Rpdml0eU1hcmt1cC5wYXJzZShcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYmxvY2s6IHtcclxuICAgICAgICAgICAgICAgICAgICBpOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICBqOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHo6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogXCIjIHRoaXMuZ2V0KCdqJykgPCB0aGlzLmdldCgnaScpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogXCIjIHRoaXMucG9zdGZpeEluYygnaicpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJAdG9cIjogXCJ6XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCIjIHsgajogdGhpcy5nZXQoJ2onKSwgejogdGhpcy5nZXQoJ3onKSB9XCJcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgZW5naW5lID0gbmV3IEFjdGl2aXR5RXhlY3V0aW9uRW5naW5lKGJsb2NrKTtcclxuICAgICAgICAvL2VuZ2luZS5hZGRUcmFja2VyKG5ldyBDb25zb2xlVHJhY2tlcigpKTtcclxuXHJcbiAgICAgICAgZW5naW5lLmludm9rZSgpLnRoZW4oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VydC5vayhfLmlzT2JqZWN0KHJlc3VsdCkpO1xyXG4gICAgICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdC5qLCAxMCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LnosIDkpO1xyXG4gICAgICAgICAgICB9KS5ub2RlaWZ5KGRvbmUpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoXCJJZlwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBpdChcInNob3VsZCBjYWxsIHRoZW4gYm9keVwiLCBmdW5jdGlvbiAoZG9uZSkge1xyXG4gICAgICAgIHZhciBibG9jayA9IGFjdGl2aXR5TWFya3VwLnBhcnNlKHtcclxuICAgICAgICAgICAgYmxvY2s6IHtcclxuICAgICAgICAgICAgICAgIHY6IDUsXHJcbiAgICAgICAgICAgICAgICBhcmdzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiBcIiMgdGhpcy5nZXQoJ3YnKSA9PSA1XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVuQm9keToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgKyB0aGlzLmdldCgndicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VCb2R5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBbMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSArIHRoaXMuZ2V0KCd2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGVuZ2luZSA9IG5ldyBBY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZShibG9jayk7XHJcbiAgICAgICAgZW5naW5lLmludm9rZSgpLnRoZW4oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbCgxICsgNSwgcmVzdWx0KTtcclxuICAgICAgICAgICAgfSkubm9kZWlmeShkb25lKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KFwic2hvdWxkIGNhbGwgZWxzZSBib2R5XCIsIGZ1bmN0aW9uIChkb25lKSB7XHJcbiAgICAgICAgdmFyIGJsb2NrID0gYWN0aXZpdHlNYXJrdXAucGFyc2Uoe1xyXG4gICAgICAgICAgICBibG9jazoge1xyXG4gICAgICAgICAgICAgICAgdjogNSxcclxuICAgICAgICAgICAgICAgIHI6IDAsXHJcbiAgICAgICAgICAgICAgICBhcmdzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbkJvZHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwiclwiLCBhICsgdGhpcy5nZXQoXCJ2XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlQm9keToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJyXCIsIGEgKyB0aGlzLmdldChcInZcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBcIiMgdGhpcy5nZXQoJ3InKVwiXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGVuZ2luZSA9IG5ldyBBY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZShibG9jayk7XHJcbiAgICAgICAgZW5naW5lLmludm9rZSgpLnRoZW4oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbCgyICsgNSwgcmVzdWx0KTtcclxuICAgICAgICAgICAgfSkubm9kZWlmeShkb25lKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbmRlc2NyaWJlKCdMb2dpYyBPcGVyYXRvcnMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBkZXNjcmliZSgnVHJ1dGh5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGl0KCdzaG91bGQgd29yaycsIGZ1bmN0aW9uIChkb25lKSB7XHJcbiAgICAgICAgICAgIHZhciBlbmdpbmUgPSBuZXcgQWN0aXZpdHlFeGVjdXRpb25FbmdpbmUoe1xyXG4gICAgICAgICAgICAgICAgYmxvY2s6IHtcclxuICAgICAgICAgICAgICAgICAgICB0MToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnV0aHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnYSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdDI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1dGh5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0Mzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnV0aHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXM6ICdpcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05vdDogJ2lzTm90J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0NDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnV0aHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXM6ICdpcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05vdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdpc05vdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgWycjIHRoaXMuZ2V0KFwidDFcIiknLCAnIyB0aGlzLmdldChcInQyXCIpJywgJyMgdGhpcy5nZXQoXCJ0M1wiKScsICcjIHRoaXMuZ2V0KFwidDRcIiknXVxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBlbmdpbmUuaW52b2tlKCkudGhlbihcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQub2soXy5pc0FycmF5KHJlc3VsdCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHRbMF0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHRbMV0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0WzJdLCAnaXMnKTtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0WzNdLCAnaXNOb3QnKTtcclxuICAgICAgICAgICAgICAgIH0pLm5vZGVpZnkoZG9uZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnRmFsc3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaXQoJ3Nob3VsZCB3b3JrJywgZnVuY3Rpb24gKGRvbmUpIHtcclxuICAgICAgICAgICAgdmFyIGVuZ2luZSA9IG5ldyBBY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZSh7XHJcbiAgICAgICAgICAgICAgICBibG9jazoge1xyXG4gICAgICAgICAgICAgICAgICAgIHQxOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbHN5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2EnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHQyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbHN5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0Mzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxzeToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpczogJ2lzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTm90OiAnaXNOb3QnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHQ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbHN5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzOiAnIyBcImlzXCInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOb3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnaXNOb3QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnIyB0aGlzLmdldChcInQxXCIpJywgJyMgdGhpcy5nZXQoXCJ0MlwiKScsICcjIHRoaXMuZ2V0KFwidDNcIiknLCAnIyB0aGlzLmdldChcInQ0XCIpJ11cclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZW5naW5lLmludm9rZSgpLnRoZW4oXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0Lm9rKF8uaXNBcnJheShyZXN1bHQpKTtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0WzBdLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdFsxXSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdFsyXSwgJ2lzTm90Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdFszXSwgJ2lzJyk7XHJcbiAgICAgICAgICAgICAgICB9KS5ub2RlaWZ5KGRvbmUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGVzY3JpYmUoJ0VxdWFscycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpdCgnc2hvdWxkIHdvcmsnLCBmdW5jdGlvbiAoZG9uZSkge1xyXG4gICAgICAgICAgICB2YXIgZW5naW5lID0gbmV3IEFjdGl2aXR5RXhlY3V0aW9uRW5naW5lKHtcclxuICAgICAgICAgICAgICAgIGJsb2NrOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVhbHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvOiAnIyA0MCArIDIgJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc0Mic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOb3Q6ICdhYmEnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1YWxzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA0MjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogJyMgNDAgKyAxICcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnNDInO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTm90OiAnYWJhJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBhcmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGE6ICcjIHRoaXMuZ2V0KFwiYVwiKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGI6ICcjIHRoaXMuZ2V0KFwiYlwiKSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZW5naW5lLmludm9rZSgpLnRoZW4oXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0Lm9rKF8uaXNQbGFpbk9iamVjdChyZXN1bHQpKTtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LmEsICc0MicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHQuYiwgJ2FiYScpO1xyXG4gICAgICAgICAgICAgICAgfSkubm9kZWlmeShkb25lKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdOb3RFcXVhbHMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaXQoJ3Nob3VsZCB3b3JrJywgZnVuY3Rpb24gKGRvbmUpIHtcclxuICAgICAgICAgICAgdmFyIGVuZ2luZSA9IG5ldyBBY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZSh7XHJcbiAgICAgICAgICAgICAgICBibG9jazoge1xyXG4gICAgICAgICAgICAgICAgICAgIGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm90RXF1YWxzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA0MjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogJyMgNDAgKyAyICcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnNDInO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTm90OiAnYWJhJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdEVxdWFsczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gNDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG86ICcjIDQwICsgMSAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzQyJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05vdDogJ2FiYSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXJnczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhOiAnIyB0aGlzLmdldChcImFcIiknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiOiAnIyB0aGlzLmdldChcImJcIiknXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVuZ2luZS5pbnZva2UoKS50aGVuKFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydC5vayhfLmlzUGxhaW5PYmplY3QocmVzdWx0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdC5hLCAnYWJhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdC5iLCAnNDInKTtcclxuICAgICAgICAgICAgICAgIH0pLm5vZGVpZnkoZG9uZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnTm90LCBBbmQsIE9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGl0KCdzaG91bGQgd29yaycsIGZ1bmN0aW9uIChkb25lKSB7XHJcbiAgICAgICAgICAgIHZhciBlbmdpbmUgPSBuZXcgQWN0aXZpdHlFeGVjdXRpb25FbmdpbmUoe1xyXG4gICAgICAgICAgICAgICAgYmxvY2s6IHtcclxuICAgICAgICAgICAgICAgICAgICBhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZDogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdidWJ1JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIyB0cnVlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdDogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQ6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3I6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcjIHRydWUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3Q6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQ6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyMgWyA0MiBdJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0ZhbHNlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuZGVsYXkoMTAwKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBhcmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGE6ICcjIHRoaXMuZ2V0KFwiYVwiKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGI6ICcjIHRoaXMuZ2V0KFwiYlwiKSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZW5naW5lLmludm9rZSgpLnRoZW4oXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0Lm9rKF8uaXNQbGFpbk9iamVjdChyZXN1bHQpKTtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LmEsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHQuYiwgNDIpO1xyXG4gICAgICAgICAgICAgICAgfSkubm9kZWlmeShkb25lKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KTtcclxuIl19
