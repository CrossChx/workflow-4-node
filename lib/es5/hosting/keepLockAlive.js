"use strict";
var KeepAlive = require("./keepAlive");
var util = require("util");
var Bluebird = require("bluebird");
function KeepLockAlive(persistence, lockInfo, inLockTimeout, renewPeriod) {
  var self = this;
  KeepAlive.call(self, function() {
    if (lockInfo && lockInfo.id)
      return persistence.renewLock(lockInfo.id, inLockTimeout);
    else
      return Bluebird.resolve(0);
  }, renewPeriod);
}
util.inherits(KeepLockAlive, KeepAlive);
module.exports = KeepLockAlive;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtlZXBMb2NrQWxpdmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxBQUFJLEVBQUEsQ0FBQSxTQUFRLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxhQUFZLENBQUMsQ0FBQztBQUN0QyxBQUFJLEVBQUEsQ0FBQSxJQUFHLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxNQUFLLENBQUMsQ0FBQztBQUMxQixBQUFJLEVBQUEsQ0FBQSxRQUFPLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxVQUFTLENBQUMsQ0FBQztBQUVsQyxPQUFTLGNBQVksQ0FBRSxXQUFVLENBQUcsQ0FBQSxRQUFPLENBQUcsQ0FBQSxhQUFZLENBQUcsQ0FBQSxXQUFVLENBQUc7QUFDdEUsQUFBSSxJQUFBLENBQUEsSUFBRyxFQUFJLEtBQUcsQ0FBQztBQUNmLFVBQVEsS0FBSyxBQUFDLENBQ1YsSUFBRyxDQUNILFVBQVUsQUFBRCxDQUFHO0FBQ1IsT0FBSSxRQUFPLEdBQUssQ0FBQSxRQUFPLEdBQUc7QUFBRyxXQUFPLENBQUEsV0FBVSxVQUFVLEFBQUMsQ0FBQyxRQUFPLEdBQUcsQ0FBRyxjQUFZLENBQUMsQ0FBQzs7QUFBTyxXQUFPLENBQUEsUUFBTyxRQUFRLEFBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQztBQUFBLEVBQzFILENBQ0EsWUFBVSxDQUFDLENBQUM7QUFDcEI7QUFBQSxBQUVBLEdBQUcsU0FBUyxBQUFDLENBQUMsYUFBWSxDQUFHLFVBQVEsQ0FBQyxDQUFDO0FBRXZDLEtBQUssUUFBUSxFQUFJLGNBQVksQ0FBQztBQUM5QiIsImZpbGUiOiJob3N0aW5nL2tlZXBMb2NrQWxpdmUuanMiLCJzb3VyY2VSb290IjoibGliL2VzNiIsInNvdXJjZXNDb250ZW50IjpbInZhciBLZWVwQWxpdmUgPSByZXF1aXJlKFwiLi9rZWVwQWxpdmVcIik7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xudmFyIEJsdWViaXJkID0gcmVxdWlyZShcImJsdWViaXJkXCIpO1xuXG5mdW5jdGlvbiBLZWVwTG9ja0FsaXZlKHBlcnNpc3RlbmNlLCBsb2NrSW5mbywgaW5Mb2NrVGltZW91dCwgcmVuZXdQZXJpb2QpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgS2VlcEFsaXZlLmNhbGwoXG4gICAgICAgIHNlbGYsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChsb2NrSW5mbyAmJiBsb2NrSW5mby5pZCkgcmV0dXJuIHBlcnNpc3RlbmNlLnJlbmV3TG9jayhsb2NrSW5mby5pZCwgaW5Mb2NrVGltZW91dCk7IGVsc2UgcmV0dXJuIEJsdWViaXJkLnJlc29sdmUoMCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmV3UGVyaW9kKTtcbn1cblxudXRpbC5pbmhlcml0cyhLZWVwTG9ja0FsaXZlLCBLZWVwQWxpdmUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEtlZXBMb2NrQWxpdmU7XG4iXX0=
