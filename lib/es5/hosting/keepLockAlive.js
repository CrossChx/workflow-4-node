"use strict";
var KeepAlive = require("./keepAlive");
var util = require("util");
var Promise = require("bluebird");
function KeepLockAlive(persistence, lockInfo, inLockTimeout, renewPeriod) {
  var self = this;
  KeepAlive.call(self, function() {
    if (lockInfo && lockInfo.id)
      return persistence.renewLock(lockInfo.id, inLockTimeout);
    else
      return Promise.resolve(0);
  }, renewPeriod);
}
util.inherits(KeepLockAlive, KeepAlive);
module.exports = KeepLockAlive;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtlZXBMb2NrQWxpdmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxBQUFJLEVBQUEsQ0FBQSxTQUFRLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxhQUFZLENBQUMsQ0FBQztBQUN0QyxBQUFJLEVBQUEsQ0FBQSxJQUFHLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxNQUFLLENBQUMsQ0FBQztBQUMxQixBQUFJLEVBQUEsQ0FBQSxPQUFNLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxVQUFTLENBQUMsQ0FBQztBQUVqQyxPQUFTLGNBQVksQ0FBRSxXQUFVLENBQUcsQ0FBQSxRQUFPLENBQUcsQ0FBQSxhQUFZLENBQUcsQ0FBQSxXQUFVLENBQUc7QUFDdEUsQUFBSSxJQUFBLENBQUEsSUFBRyxFQUFJLEtBQUcsQ0FBQztBQUNmLFVBQVEsS0FBSyxBQUFDLENBQ1YsSUFBRyxDQUNILFVBQVUsQUFBRCxDQUFHO0FBQ1IsT0FBSSxRQUFPLEdBQUssQ0FBQSxRQUFPLEdBQUc7QUFBRyxXQUFPLENBQUEsV0FBVSxVQUFVLEFBQUMsQ0FBQyxRQUFPLEdBQUcsQ0FBRyxjQUFZLENBQUMsQ0FBQzs7QUFBTyxXQUFPLENBQUEsT0FBTSxRQUFRLEFBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQztBQUFBLEVBQ3pILENBQ0EsWUFBVSxDQUFDLENBQUM7QUFDcEI7QUFBQSxBQUVBLEdBQUcsU0FBUyxBQUFDLENBQUMsYUFBWSxDQUFHLFVBQVEsQ0FBQyxDQUFDO0FBRXZDLEtBQUssUUFBUSxFQUFJLGNBQVksQ0FBQztBQUM5QiIsImZpbGUiOiJob3N0aW5nL2tlZXBMb2NrQWxpdmUuanMiLCJzb3VyY2VSb290IjoibGliL2VzNiIsInNvdXJjZXNDb250ZW50IjpbInZhciBLZWVwQWxpdmUgPSByZXF1aXJlKFwiLi9rZWVwQWxpdmVcIik7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xudmFyIFByb21pc2UgPSByZXF1aXJlKFwiYmx1ZWJpcmRcIik7XG5cbmZ1bmN0aW9uIEtlZXBMb2NrQWxpdmUocGVyc2lzdGVuY2UsIGxvY2tJbmZvLCBpbkxvY2tUaW1lb3V0LCByZW5ld1BlcmlvZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBLZWVwQWxpdmUuY2FsbChcbiAgICAgICAgc2VsZixcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGxvY2tJbmZvICYmIGxvY2tJbmZvLmlkKSByZXR1cm4gcGVyc2lzdGVuY2UucmVuZXdMb2NrKGxvY2tJbmZvLmlkLCBpbkxvY2tUaW1lb3V0KTsgZWxzZSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKDApO1xuICAgICAgICB9LFxuICAgICAgICByZW5ld1BlcmlvZCk7XG59XG5cbnV0aWwuaW5oZXJpdHMoS2VlcExvY2tBbGl2ZSwgS2VlcEFsaXZlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBLZWVwTG9ja0FsaXZlO1xuIl19
