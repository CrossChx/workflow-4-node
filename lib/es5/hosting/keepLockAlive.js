"use strict";
var KeepAlive = require("./keepAlive");
var util = require("util");
var Promise = require("bluebird");
function KeepLockAlive(persistence, lockInfo, inLockTimeout, renewPeriod) {
  var self = this;
  KeepAlive.call(self, function() {
    if (lockInfo && lockInfo.id)
      return persistence.renewLock(lockInfo.id, inLockTimeout);
    else
      return Promise.resolve(0);
  }, renewPeriod);
}
util.inherits(KeepLockAlive, KeepAlive);
module.exports = KeepLockAlive;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtlZXBMb2NrQWxpdmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxBQUFJLEVBQUEsQ0FBQSxTQUFRLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxhQUFZLENBQUMsQ0FBQztBQUN0QyxBQUFJLEVBQUEsQ0FBQSxJQUFHLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxNQUFLLENBQUMsQ0FBQztBQUMxQixBQUFJLEVBQUEsQ0FBQSxPQUFNLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxVQUFTLENBQUMsQ0FBQztBQUVqQyxPQUFTLGNBQVksQ0FBRSxXQUFVLENBQUcsQ0FBQSxRQUFPLENBQUcsQ0FBQSxhQUFZLENBQUcsQ0FBQSxXQUFVLENBQUc7QUFDdEUsQUFBSSxJQUFBLENBQUEsSUFBRyxFQUFJLEtBQUcsQ0FBQztBQUNmLFVBQVEsS0FBSyxBQUFDLENBQ1YsSUFBRyxDQUNILFVBQVUsQUFBRCxDQUFHO0FBQ1IsT0FBSSxRQUFPLEdBQUssQ0FBQSxRQUFPLEdBQUc7QUFBRyxXQUFPLENBQUEsV0FBVSxVQUFVLEFBQUMsQ0FBQyxRQUFPLEdBQUcsQ0FBRyxjQUFZLENBQUMsQ0FBQzs7QUFBTyxXQUFPLENBQUEsT0FBTSxRQUFRLEFBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQztBQUFBLEVBQ3pILENBQ0EsWUFBVSxDQUFDLENBQUM7QUFDcEI7QUFBQSxBQUVBLEdBQUcsU0FBUyxBQUFDLENBQUMsYUFBWSxDQUFHLFVBQVEsQ0FBQyxDQUFDO0FBRXZDLEtBQUssUUFBUSxFQUFJLGNBQVksQ0FBQztBQUM5QiIsImZpbGUiOiJob3N0aW5nL2tlZXBMb2NrQWxpdmUuanMiLCJzb3VyY2VSb290IjoibGliL2VzNiIsInNvdXJjZXNDb250ZW50IjpbInZhciBLZWVwQWxpdmUgPSByZXF1aXJlKFwiLi9rZWVwQWxpdmVcIik7XHJcbnZhciB1dGlsID0gcmVxdWlyZShcInV0aWxcIik7XHJcbnZhciBQcm9taXNlID0gcmVxdWlyZShcImJsdWViaXJkXCIpO1xyXG5cclxuZnVuY3Rpb24gS2VlcExvY2tBbGl2ZShwZXJzaXN0ZW5jZSwgbG9ja0luZm8sIGluTG9ja1RpbWVvdXQsIHJlbmV3UGVyaW9kKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBLZWVwQWxpdmUuY2FsbChcclxuICAgICAgICBzZWxmLFxyXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGxvY2tJbmZvICYmIGxvY2tJbmZvLmlkKSByZXR1cm4gcGVyc2lzdGVuY2UucmVuZXdMb2NrKGxvY2tJbmZvLmlkLCBpbkxvY2tUaW1lb3V0KTsgZWxzZSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKDApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVuZXdQZXJpb2QpO1xyXG59XHJcblxyXG51dGlsLmluaGVyaXRzKEtlZXBMb2NrQWxpdmUsIEtlZXBBbGl2ZSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEtlZXBMb2NrQWxpdmU7XHJcbiJdfQ==
