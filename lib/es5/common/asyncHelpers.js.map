{"version":3,"sources":["common/asyncHelpers.js"],"names":[],"mappings":";;AAAA,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACnC,IAAI,EAAE,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;;AAEzB,IAAI,KAAK,GAAG,QAAQ,CAAC,SAAS,CAAC;;AAE/B,IAAI,YAAY,GAAG;AACf,SAAK,EAAE,KAAK;;AAEZ,mBAAe,EAAE,KAAK,yBAAC,iBAAW,SAAS,EAAE,KAAK,EAAE,OAAO,EAAE,YAAY;YAIjE,SAAS,EACT,QAAQ,EACR,SAAS,EACT,MAAM;;;;;AANV,oCAAY,GAAG,YAAY,IAAI,YAAY;AACvC,mCAAO,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;yBACtC,CAAC;AACE,iCAAS,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;AAChC,gCAAQ,GAAG,CAAC;AACZ,iCAAS,GAAG,CAAC;;+BACE,SAAS,EAAE;;;AAA1B,8BAAM;;;4BACF,KAAK,CAAC,MAAM,CAAC;;;;;8BACb,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,SAAS,GAAG,OAAO,CAAA;;;;;8BAAQ,YAAY,EAAE;;;;+BAC9D,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC;;;AAC9B,gCAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,SAAS,GAAG,GAAG,EAAE,IAAI,CAAC,CAAC;;+BAC9B,SAAS,EAAE;;;AAA1B,8BAAM;;;;;yDAEH,MAAM;;;;;;;;KAChB,EAAC;CACL,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,YAAY,CAAC","file":"common/asyncHelpers.js","sourcesContent":["var Bluebird = require(\"bluebird\");\nvar is = require(\"./is\");\n\nvar async = Bluebird.coroutine;\n\nvar asyncHelpers = {\n    async: async,\n\n    aggressiveRetry: async(function* (asyncFunc, until, timeout, timeoutError) {\n        timeoutError = timeoutError || function () {\n            return new Error(\"Retry timeout.\");\n        };\n        var startTime = new Date().getTime();\n        var waitTime = 0;\n        var waitCount = 0;\n        var result = yield asyncFunc();\n        while (!until(result)) {\n            if (new Date().getTime() - startTime > timeout) throw timeoutError();\n            yield Bluebird.delay(waitTime);\n            waitTime = Math.min(++waitCount * 250, 3000);\n            result = yield asyncFunc();\n        }\n        return result;\n    })\n}\n\nmodule.exports = asyncHelpers;"],"sourceRoot":"/source/"}