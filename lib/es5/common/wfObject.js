"use strict";
var Guid = require("guid");
var _ = require("lodash");
function WFObject(initArgs) {
  if (_.isPlainObject(initArgs))
    _.extend(this, initArgs);
  this._instanceId = Guid.create().toString();
}
Object.defineProperties(WFObject.prototype, {_keys: {
    value: null,
    writable: true,
    enumerable: false
  }});
WFObject.prototype._getMapKey = function() {
  return this._instanceId;
};
WFObject.prototype.getKeys = function() {
  if (!this._keys) {
    var keys = [];
    for (var k in this)
      keys.push(k);
    this._keys = keys;
  }
  return this._keys;
};
WFObject.prototype.clearKeys = function() {
  this._keys = null;
};
module.exports = WFObject;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndmT2JqZWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsQUFBSSxFQUFBLENBQUEsSUFBRyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsTUFBSyxDQUFDLENBQUM7QUFDMUIsQUFBSSxFQUFBLENBQUEsQ0FBQSxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsUUFBTyxDQUFDLENBQUM7QUFFekIsT0FBUyxTQUFPLENBQUUsUUFBTyxDQUFHO0FBQ3hCLEtBQUksQ0FBQSxjQUFjLEFBQUMsQ0FBQyxRQUFPLENBQUM7QUFBRyxJQUFBLE9BQU8sQUFBQyxDQUFDLElBQUcsQ0FBRyxTQUFPLENBQUMsQ0FBQztBQUFBLEFBQ3ZELEtBQUcsWUFBWSxFQUFJLENBQUEsSUFBRyxPQUFPLEFBQUMsRUFBQyxTQUFTLEFBQUMsRUFBQyxDQUFDO0FBQy9DO0FBQUEsQUFFQSxLQUFLLGlCQUFpQixBQUFDLENBQUMsUUFBTyxVQUFVLENBQUcsRUFDeEMsS0FBSSxDQUFHO0FBQ0gsUUFBSSxDQUFHLEtBQUc7QUFDVixXQUFPLENBQUcsS0FBRztBQUNiLGFBQVMsQ0FBRyxNQUFJO0FBQUEsRUFDcEIsQ0FDSixDQUFDLENBQUE7QUFFRCxPQUFPLFVBQVUsV0FBVyxFQUFJLFVBQVUsQUFBRCxDQUFHO0FBQ3hDLE9BQU8sQ0FBQSxJQUFHLFlBQVksQ0FBQztBQUMzQixDQUFBO0FBRUEsT0FBTyxVQUFVLFFBQVEsRUFBSSxVQUFVLEFBQUQsQ0FBRztBQUNyQyxLQUFJLENBQUMsSUFBRyxNQUFNLENBQUc7QUFDYixBQUFJLE1BQUEsQ0FBQSxJQUFHLEVBQUksR0FBQyxDQUFDO0FBQ2IsUUFBUyxHQUFBLENBQUEsQ0FBQSxDQUFBLEVBQUssS0FBRztBQUFHLFNBQUcsS0FBSyxBQUFDLENBQUMsQ0FBQSxDQUFDLENBQUM7QUFBQSxBQUNoQyxPQUFHLE1BQU0sRUFBSSxLQUFHLENBQUM7RUFDckI7QUFBQSxBQUNBLE9BQU8sQ0FBQSxJQUFHLE1BQU0sQ0FBQztBQUNyQixDQUFBO0FBRUEsT0FBTyxVQUFVLFVBQVUsRUFBSSxVQUFVLEFBQUQsQ0FBRztBQUN2QyxLQUFHLE1BQU0sRUFBSSxLQUFHLENBQUM7QUFDckIsQ0FBQTtBQUVBLEtBQUssUUFBUSxFQUFJLFNBQU8sQ0FBQztBQUFBIiwiZmlsZSI6ImNvbW1vbi93Zk9iamVjdC5qcyIsInNvdXJjZVJvb3QiOiJsaWIvZXM2Iiwic291cmNlc0NvbnRlbnQiOlsidmFyIEd1aWQgPSByZXF1aXJlKFwiZ3VpZFwiKTtcbnZhciBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcblxuZnVuY3Rpb24gV0ZPYmplY3QoaW5pdEFyZ3MpIHtcbiAgICBpZiAoXy5pc1BsYWluT2JqZWN0KGluaXRBcmdzKSkgXy5leHRlbmQodGhpcywgaW5pdEFyZ3MpO1xuICAgIHRoaXMuX2luc3RhbmNlSWQgPSBHdWlkLmNyZWF0ZSgpLnRvU3RyaW5nKCk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFdGT2JqZWN0LnByb3RvdHlwZSwge1xuICAgIF9rZXlzOiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICB9XG59KVxuXG5XRk9iamVjdC5wcm90b3R5cGUuX2dldE1hcEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5zdGFuY2VJZDtcbn1cblxuV0ZPYmplY3QucHJvdG90eXBlLmdldEtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLl9rZXlzKSB7XG4gICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgIGZvciAodmFyIGsgaW4gdGhpcykga2V5cy5wdXNoKGspO1xuICAgICAgICB0aGlzLl9rZXlzID0ga2V5cztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2tleXM7XG59XG5cbldGT2JqZWN0LnByb3RvdHlwZS5jbGVhcktleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fa2V5cyA9IG51bGw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gV0ZPYmplY3Q7Il19
