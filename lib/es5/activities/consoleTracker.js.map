{"version":3,"names":[],"mappings":"","sources":["activities/consoleTracker.js"],"sourcesContent":["\"use strict\";\r\n\r\nlet _ = require(\"lodash\");\r\nlet util = require(\"util\");\r\nlet Activity = require(\"./activity\");\r\n\r\nfunction ConsoleTracker() {\r\n}\r\n\r\nConsoleTracker.prototype.activityStateChanged = function (args) {\r\n    let activity = args.scope.$activity;\r\n    let reason = args.reason;\r\n    let result = args.result;\r\n    let name = activity.toString();\r\n    if (result instanceof Error) {\r\n        result = result.message;\r\n    }\r\n    else {\r\n        if (_.isObject(result)) result = util.inspect(result);\r\n        if (_.isString(result) && result.length > 100) result = result.substr(0, 100);\r\n    }\r\n    if (result) result = \", result: \" + result; else result = \"\";\r\n    let method = reason === Activity.states.fail? \"error\" : \"log\";\r\n    console[method](\"Activity '\" + name + \"' state changed - reason: \" + reason + result);\r\n};\r\n\r\nmodule.exports = ConsoleTracker;\r\n"],"file":"activities/consoleTracker.js","sourceRoot":"/source/"}