{"version":3,"sources":["activities/resumeBookmarkQueue.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,IAAI,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;;AAEzC,SAAS,mBAAmB,GAAG;AAC3B,QAAI,CAAC,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC;AACxB,QAAI,CAAC,SAAS,GAAG,EAAE,CAAC;CACvB;;AAED,mBAAmB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;AAChD,WAAO,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,CAAC;CACtC,CAAC;;AAEF,mBAAmB,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,YAAY,EAAE,MAAM,EAAE,MAAM,EAAE;AAC5E,QAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE;AAChC,YAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AAC9B,YAAI,CAAC,SAAS,CAAC,IAAI,CACf;AACI,gBAAI,EAAE,YAAY;AAClB,kBAAM,EAAE,MAAM;AACd,kBAAM,EAAE,MAAM;SACjB,CAAC,CAAC;KACV,MACI;AACD,cAAM,IAAI,MAAM,CAAC,oBAAoB,CAAC,OAAO,GAAG,YAAY,GAAG,2CAA2C,CAAC,CAAC;KAC/G;CACJ,CAAC;;AAEF,mBAAmB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;AAChD,QAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;AACvB,YAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AAChC,YAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC5B,YAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACjC,eAAO,OAAO,CAAC;KAClB;AACD,WAAO,IAAI,CAAC;CACf,CAAC;;AAEF,mBAAmB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,YAAY,EAAE;AAC3D,QAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE;AAC/B,YAAI,GAAG,GAAG,CAAC,CAAC,CAAC;AACb,aAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC5C,gBAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AAChC,gBAAI,OAAO,CAAC,IAAI,KAAK,YAAY,EAAE;AAC/B,mBAAG,GAAG,CAAC,CAAC;AACR,sBAAM;aACT;SACJ;AACD,YAAI,GAAG,KAAK,CAAC,CAAC,EAAE;AACZ,gBAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;SACjC;AACD,YAAI,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;KACpC;CACJ,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,mBAAmB,CAAC","file":"activities/resumeBookmarkQueue.js","sourcesContent":["\"use strict\";\n\nlet errors = require(\"../common/errors\");\n\nfunction ResumeBookmarkQueue() {\n    this._names = new Set();\n    this._commands = [];\n}\n\nResumeBookmarkQueue.prototype.isEmpty = function () {\n    return this._commands.length === 0;\n};\n\nResumeBookmarkQueue.prototype.enqueue = function (bookmarkName, reason, result) {\n    if (!this._names.has(bookmarkName)) {\n        this._names.add(bookmarkName);\n        this._commands.push(\n            {\n                name: bookmarkName,\n                reason: reason,\n                result: result\n            });\n    }\n    else {\n        throw new errors.ActivityRuntimeError(\"The '\" + bookmarkName + \"' bookmark continuation already enqueued.\");\n    }\n};\n\nResumeBookmarkQueue.prototype.dequeue = function () {\n    if (this._commands.length) {\n        let command = this._commands[0];\n        this._commands.splice(0, 1);\n        this._names.delete(command.name);\n        return command;\n    }\n    return null;\n};\n\nResumeBookmarkQueue.prototype.remove = function (bookmarkName) {\n    if (this._names.has(bookmarkName)) {\n        let idx = -1;\n        for (let i = 0; i < this._commands.length; i++) {\n            let command = this._commands[i];\n            if (command.name === bookmarkName) {\n                idx = i;\n                break;\n            }\n        }\n        if (idx !== -1) {\n            this._commands.splice(idx, 1);\n        }\n        this._names.delete(bookmarkName);\n    }\n};\n\nmodule.exports = ResumeBookmarkQueue;\n"],"sourceRoot":"/source/"}