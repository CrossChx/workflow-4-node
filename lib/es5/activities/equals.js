"use strict";
var Activity = require("./activity");
var util = require("util");
function Equals() {
  Activity.call(this);
  this.value = null;
  this.to = null;
  this.is = true;
  this.isNot = false;
  this.strict = false;
}
util.inherits(Equals, Activity);
Equals.prototype.run = function(callContext, args) {
  callContext.schedule([this.value, this.to], "_valueAndToGot");
};
Equals.prototype._valueAndToGot = function(callContext, reason, result) {
  if (reason !== Activity.states.complete) {
    callContext.end(reason, result);
    return;
  }
  if (this.strict ? result[0] === result[1] : result[0] === result[1]) {
    callContext.schedule(this.is, "_done");
  } else {
    callContext.schedule(this.isNot, "_done");
  }
};
Equals.prototype._done = function(callContext, reason, result) {
  callContext.end(reason, result);
};
module.exports = Equals;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVxdWFscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUVBLEFBQUksRUFBQSxDQUFBLFFBQU8sRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLFlBQVcsQ0FBQyxDQUFDO0FBQ3BDLEFBQUksRUFBQSxDQUFBLElBQUcsRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLE1BQUssQ0FBQyxDQUFDO0FBRTFCLE9BQVMsT0FBSyxDQUFFLEFBQUQsQ0FBRztBQUNkLFNBQU8sS0FBSyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUM7QUFFbkIsS0FBRyxNQUFNLEVBQUksS0FBRyxDQUFDO0FBQ2pCLEtBQUcsR0FBRyxFQUFJLEtBQUcsQ0FBQztBQUNkLEtBQUcsR0FBRyxFQUFJLEtBQUcsQ0FBQztBQUNkLEtBQUcsTUFBTSxFQUFJLE1BQUksQ0FBQztBQUNsQixLQUFHLE9BQU8sRUFBSSxNQUFJLENBQUM7QUFDdkI7QUFBQSxBQUVBLEdBQUcsU0FBUyxBQUFDLENBQUMsTUFBSyxDQUFHLFNBQU8sQ0FBQyxDQUFDO0FBRS9CLEtBQUssVUFBVSxJQUFJLEVBQUksVUFBUyxXQUFVLENBQUcsQ0FBQSxJQUFHLENBQUc7QUFDL0MsWUFBVSxTQUFTLEFBQUMsQ0FBQyxDQUFDLElBQUcsTUFBTSxDQUFHLENBQUEsSUFBRyxHQUFHLENBQUMsQ0FBRyxpQkFBZSxDQUFDLENBQUM7QUFDakUsQ0FBQztBQUVELEtBQUssVUFBVSxlQUFlLEVBQUksVUFBUyxXQUFVLENBQUcsQ0FBQSxNQUFLLENBQUcsQ0FBQSxNQUFLLENBQUc7QUFDcEUsS0FBSSxNQUFLLElBQU0sQ0FBQSxRQUFPLE9BQU8sU0FBUyxDQUFHO0FBQ3JDLGNBQVUsSUFBSSxBQUFDLENBQUMsTUFBSyxDQUFHLE9BQUssQ0FBQyxDQUFDO0FBQy9CLFVBQU07RUFDVjtBQUFBLEFBRUEsS0FBSSxJQUFHLE9BQU8sRUFBSSxDQUFBLE1BQUssQ0FBRSxDQUFBLENBQUMsSUFBTSxDQUFBLE1BQUssQ0FBRSxDQUFBLENBQUMsQ0FBQSxDQUFJLENBQUEsTUFBSyxDQUFFLENBQUEsQ0FBQyxJQUFNLENBQUEsTUFBSyxDQUFFLENBQUEsQ0FBQyxDQUFHO0FBQ2pFLGNBQVUsU0FBUyxBQUFDLENBQUMsSUFBRyxHQUFHLENBQUcsUUFBTSxDQUFDLENBQUM7RUFDMUMsS0FDSztBQUNELGNBQVUsU0FBUyxBQUFDLENBQUMsSUFBRyxNQUFNLENBQUcsUUFBTSxDQUFDLENBQUM7RUFDN0M7QUFBQSxBQUNKLENBQUM7QUFFRCxLQUFLLFVBQVUsTUFBTSxFQUFJLFVBQVMsV0FBVSxDQUFHLENBQUEsTUFBSyxDQUFHLENBQUEsTUFBSyxDQUFHO0FBQzNELFlBQVUsSUFBSSxBQUFDLENBQUMsTUFBSyxDQUFHLE9BQUssQ0FBQyxDQUFDO0FBQ25DLENBQUM7QUFFRCxLQUFLLFFBQVEsRUFBSSxPQUFLLENBQUM7QUFBQSIsImZpbGUiOiJhY3Rpdml0aWVzL2VxdWFscy5qcyIsInNvdXJjZVJvb3QiOiJsaWIvZXM2Iiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmxldCBBY3Rpdml0eSA9IHJlcXVpcmUoXCIuL2FjdGl2aXR5XCIpO1xubGV0IHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcblxuZnVuY3Rpb24gRXF1YWxzKCkge1xuICAgIEFjdGl2aXR5LmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLnZhbHVlID0gbnVsbDtcbiAgICB0aGlzLnRvID0gbnVsbDtcbiAgICB0aGlzLmlzID0gdHJ1ZTtcbiAgICB0aGlzLmlzTm90ID0gZmFsc2U7XG4gICAgdGhpcy5zdHJpY3QgPSBmYWxzZTtcbn1cblxudXRpbC5pbmhlcml0cyhFcXVhbHMsIEFjdGl2aXR5KTtcblxuRXF1YWxzLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbihjYWxsQ29udGV4dCwgYXJncykge1xuICAgIGNhbGxDb250ZXh0LnNjaGVkdWxlKFt0aGlzLnZhbHVlLCB0aGlzLnRvXSwgXCJfdmFsdWVBbmRUb0dvdFwiKTtcbn07XG5cbkVxdWFscy5wcm90b3R5cGUuX3ZhbHVlQW5kVG9Hb3QgPSBmdW5jdGlvbihjYWxsQ29udGV4dCwgcmVhc29uLCByZXN1bHQpIHtcbiAgICBpZiAocmVhc29uICE9PSBBY3Rpdml0eS5zdGF0ZXMuY29tcGxldGUpIHtcbiAgICAgICAgY2FsbENvbnRleHQuZW5kKHJlYXNvbiwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0cmljdCA/IHJlc3VsdFswXSA9PT0gcmVzdWx0WzFdIDogcmVzdWx0WzBdID09PSByZXN1bHRbMV0pIHtcbiAgICAgICAgY2FsbENvbnRleHQuc2NoZWR1bGUodGhpcy5pcywgXCJfZG9uZVwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNhbGxDb250ZXh0LnNjaGVkdWxlKHRoaXMuaXNOb3QsIFwiX2RvbmVcIik7XG4gICAgfVxufTtcblxuRXF1YWxzLnByb3RvdHlwZS5fZG9uZSA9IGZ1bmN0aW9uKGNhbGxDb250ZXh0LCByZWFzb24sIHJlc3VsdCkge1xuICAgIGNhbGxDb250ZXh0LmVuZChyZWFzb24sIHJlc3VsdCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEVxdWFsczsiXX0=
