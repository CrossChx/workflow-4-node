"use strict";
var Activity = require("./activity");
var util = require("util");
function WaitForBookmark() {
  Activity.call(this);
  this.bookmarkName = "";
}
util.inherits(WaitForBookmark, Activity);
WaitForBookmark.prototype.run = function(callContext, args) {
  var bookmarkName = this.bookmarkName;
  if (!bookmarkName) {
    callContext.fail(new Error("WaitForBookmark activity's property 'bookmarkName' is not a non-empty string."));
    return;
  }
  callContext.createBookmark(bookmarkName, "_bmReached");
  callContext.idle();
};
WaitForBookmark.prototype._bmReached = function(callContext, reason, result) {
  callContext.end(reason, result);
};
module.exports = WaitForBookmark;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndhaXRGb3JCb29rbWFyay5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUVBLEFBQUksRUFBQSxDQUFBLFFBQU8sRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLFlBQVcsQ0FBQyxDQUFDO0FBQ3BDLEFBQUksRUFBQSxDQUFBLElBQUcsRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLE1BQUssQ0FBQyxDQUFDO0FBRTFCLE9BQVMsZ0JBQWMsQ0FBRSxBQUFELENBQUc7QUFDdkIsU0FBTyxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQztBQUNuQixLQUFHLGFBQWEsRUFBSSxHQUFDLENBQUM7QUFDMUI7QUFBQSxBQUVBLEdBQUcsU0FBUyxBQUFDLENBQUMsZUFBYyxDQUFHLFNBQU8sQ0FBQyxDQUFDO0FBRXhDLGNBQWMsVUFBVSxJQUFJLEVBQUksVUFBVSxXQUFVLENBQUcsQ0FBQSxJQUFHLENBQUc7QUFDekQsQUFBSSxJQUFBLENBQUEsWUFBVyxFQUFJLENBQUEsSUFBRyxhQUFhLENBQUM7QUFFcEMsS0FBSSxDQUFDLFlBQVcsQ0FBRztBQUNmLGNBQVUsS0FBSyxBQUFDLENBQUMsR0FBSSxNQUFJLEFBQUMsQ0FBQywrRUFBOEUsQ0FBQyxDQUFDLENBQUM7QUFDNUcsVUFBTTtFQUNWO0FBQUEsQUFFQSxZQUFVLGVBQWUsQUFBQyxDQUFDLFlBQVcsQ0FBRyxhQUFXLENBQUMsQ0FBQztBQUN0RCxZQUFVLEtBQUssQUFBQyxFQUFDLENBQUM7QUFDdEIsQ0FBQztBQUVELGNBQWMsVUFBVSxXQUFXLEVBQUksVUFBVSxXQUFVLENBQUcsQ0FBQSxNQUFLLENBQUcsQ0FBQSxNQUFLLENBQUc7QUFDMUUsWUFBVSxJQUFJLEFBQUMsQ0FBQyxNQUFLLENBQUcsT0FBSyxDQUFDLENBQUM7QUFDbkMsQ0FBQztBQUVELEtBQUssUUFBUSxFQUFJLGdCQUFjLENBQUM7QUFDaEMiLCJmaWxlIjoiYWN0aXZpdGllcy93YWl0Rm9yQm9va21hcmsuanMiLCJzb3VyY2VSb290IjoibGliL2VzNiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5sZXQgQWN0aXZpdHkgPSByZXF1aXJlKFwiLi9hY3Rpdml0eVwiKTtcbmxldCB1dGlsID0gcmVxdWlyZShcInV0aWxcIik7XG5cbmZ1bmN0aW9uIFdhaXRGb3JCb29rbWFyaygpIHtcbiAgICBBY3Rpdml0eS5jYWxsKHRoaXMpO1xuICAgIHRoaXMuYm9va21hcmtOYW1lID0gXCJcIjtcbn1cblxudXRpbC5pbmhlcml0cyhXYWl0Rm9yQm9va21hcmssIEFjdGl2aXR5KTtcblxuV2FpdEZvckJvb2ttYXJrLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoY2FsbENvbnRleHQsIGFyZ3MpIHtcbiAgICBsZXQgYm9va21hcmtOYW1lID0gdGhpcy5ib29rbWFya05hbWU7XG5cbiAgICBpZiAoIWJvb2ttYXJrTmFtZSkge1xuICAgICAgICBjYWxsQ29udGV4dC5mYWlsKG5ldyBFcnJvcihcIldhaXRGb3JCb29rbWFyayBhY3Rpdml0eSdzIHByb3BlcnR5ICdib29rbWFya05hbWUnIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcuXCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbGxDb250ZXh0LmNyZWF0ZUJvb2ttYXJrKGJvb2ttYXJrTmFtZSwgXCJfYm1SZWFjaGVkXCIpO1xuICAgIGNhbGxDb250ZXh0LmlkbGUoKTtcbn07XG5cbldhaXRGb3JCb29rbWFyay5wcm90b3R5cGUuX2JtUmVhY2hlZCA9IGZ1bmN0aW9uIChjYWxsQ29udGV4dCwgcmVhc29uLCByZXN1bHQpIHtcbiAgICBjYWxsQ29udGV4dC5lbmQocmVhc29uLCByZXN1bHQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBXYWl0Rm9yQm9va21hcms7XG4iXX0=
