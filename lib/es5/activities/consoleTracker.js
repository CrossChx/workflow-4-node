"use strict";
var _ = require("lodash");
function ConsoleTracker() {}
ConsoleTracker.prototype.activityStateChanged = function(activity, reason, result) {
  var name = activity.toString();
  if (result instanceof Error) {
    result = result.message;
  } else {
    if (_.isObject(result))
      result = JSON.stringify(result);
    if (_.isString(result) && result.length > 100)
      result = result.substr(0, 100);
  }
  if (result)
    result = ", result: " + result;
  else
    result = "";
  console.log("Activity '" + name + "' state changed - reason: " + reason + result);
};
module.exports = ConsoleTracker;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnNvbGVUcmFja2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsQUFBSSxFQUFBLENBQUEsQ0FBQSxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsUUFBTyxDQUFDLENBQUM7QUFFekIsT0FBUyxlQUFhLENBQUUsQUFBRCxDQUFHLEdBQzFCO0FBQUEsQUFFQSxhQUFhLFVBQVUscUJBQXFCLEVBQUksVUFBVSxRQUFPLENBQUcsQ0FBQSxNQUFLLENBQUcsQ0FBQSxNQUFLLENBQUc7QUFDaEYsQUFBSSxJQUFBLENBQUEsSUFBRyxFQUFJLENBQUEsUUFBTyxTQUFTLEFBQUMsRUFBQyxDQUFDO0FBQzlCLEtBQUksTUFBSyxXQUFhLE1BQUksQ0FBRztBQUN6QixTQUFLLEVBQUksQ0FBQSxNQUFLLFFBQVEsQ0FBQztFQUMzQixLQUNLO0FBQ0QsT0FBSSxDQUFBLFNBQVMsQUFBQyxDQUFDLE1BQUssQ0FBQztBQUFHLFdBQUssRUFBSSxDQUFBLElBQUcsVUFBVSxBQUFDLENBQUMsTUFBSyxDQUFDLENBQUM7QUFBQSxBQUN2RCxPQUFJLENBQUEsU0FBUyxBQUFDLENBQUMsTUFBSyxDQUFDLENBQUEsRUFBSyxDQUFBLE1BQUssT0FBTyxFQUFJLElBQUU7QUFBRyxXQUFLLEVBQUksQ0FBQSxNQUFLLE9BQU8sQUFBQyxDQUFDLENBQUEsQ0FBRyxJQUFFLENBQUMsQ0FBQztBQUFBLEVBQ2pGO0FBQUEsQUFDQSxLQUFJLE1BQUs7QUFBRyxTQUFLLEVBQUksQ0FBQSxZQUFXLEVBQUksT0FBSyxDQUFDOztBQUFPLFNBQUssRUFBSSxHQUFDLENBQUM7QUFBQSxBQUM1RCxRQUFNLElBQUksQUFBQyxDQUFDLFlBQVcsRUFBSSxLQUFHLENBQUEsQ0FBSSw2QkFBMkIsQ0FBQSxDQUFJLE9BQUssQ0FBQSxDQUFJLE9BQUssQ0FBQyxDQUFDO0FBQ3JGLENBQUE7QUFFQSxLQUFLLFFBQVEsRUFBSSxlQUFhLENBQUM7QUFDL0IiLCJmaWxlIjoiYWN0aXZpdGllcy9jb25zb2xlVHJhY2tlci5qcyIsInNvdXJjZVJvb3QiOiJsaWIvZXM2Iiwic291cmNlc0NvbnRlbnQiOlsidmFyIF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xyXG5cclxuZnVuY3Rpb24gQ29uc29sZVRyYWNrZXIoKSB7XHJcbn1cclxuXHJcbkNvbnNvbGVUcmFja2VyLnByb3RvdHlwZS5hY3Rpdml0eVN0YXRlQ2hhbmdlZCA9IGZ1bmN0aW9uIChhY3Rpdml0eSwgcmVhc29uLCByZXN1bHQpIHtcclxuICAgIHZhciBuYW1lID0gYWN0aXZpdHkudG9TdHJpbmcoKTtcclxuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5tZXNzYWdlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKF8uaXNPYmplY3QocmVzdWx0KSkgcmVzdWx0ID0gSlNPTi5zdHJpbmdpZnkocmVzdWx0KTtcclxuICAgICAgICBpZiAoXy5pc1N0cmluZyhyZXN1bHQpICYmIHJlc3VsdC5sZW5ndGggPiAxMDApIHJlc3VsdCA9IHJlc3VsdC5zdWJzdHIoMCwgMTAwKTtcclxuICAgIH1cclxuICAgIGlmIChyZXN1bHQpIHJlc3VsdCA9IFwiLCByZXN1bHQ6IFwiICsgcmVzdWx0OyBlbHNlIHJlc3VsdCA9IFwiXCI7XHJcbiAgICBjb25zb2xlLmxvZyhcIkFjdGl2aXR5ICdcIiArIG5hbWUgKyBcIicgc3RhdGUgY2hhbmdlZCAtIHJlYXNvbjogXCIgKyByZWFzb24gKyByZXN1bHQpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IENvbnNvbGVUcmFja2VyO1xyXG4iXX0=
