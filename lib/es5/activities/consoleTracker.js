"use strict";
var _ = require("lodash");
function ConsoleTracker() {}
ConsoleTracker.prototype.activityStateChanged = function(activity, reason, result) {
  var name = activity.toString();
  if (result instanceof Error) {
    result = result.message;
  } else {
    if (_.isObject(result))
      result = JSON.stringify(result);
    if (_.isString(result) && result.length > 100)
      result = result.substr(0, 100);
  }
  if (result)
    result = ", result: " + result;
  else
    result = "";
  console.log("Activity '" + name + "' state changed - reason: " + reason + result);
};
module.exports = ConsoleTracker;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnNvbGVUcmFja2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsQUFBSSxFQUFBLENBQUEsQ0FBQSxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsUUFBTyxDQUFDLENBQUM7QUFFekIsT0FBUyxlQUFhLENBQUUsQUFBRCxDQUFHLEdBQzFCO0FBQUEsQUFFQSxhQUFhLFVBQVUscUJBQXFCLEVBQUksVUFBVSxRQUFPLENBQUcsQ0FBQSxNQUFLLENBQUcsQ0FBQSxNQUFLLENBQUc7QUFDaEYsQUFBSSxJQUFBLENBQUEsSUFBRyxFQUFJLENBQUEsUUFBTyxTQUFTLEFBQUMsRUFBQyxDQUFDO0FBQzlCLEtBQUksTUFBSyxXQUFhLE1BQUksQ0FBRztBQUN6QixTQUFLLEVBQUksQ0FBQSxNQUFLLFFBQVEsQ0FBQztFQUMzQixLQUNLO0FBQ0QsT0FBSSxDQUFBLFNBQVMsQUFBQyxDQUFDLE1BQUssQ0FBQztBQUFHLFdBQUssRUFBSSxDQUFBLElBQUcsVUFBVSxBQUFDLENBQUMsTUFBSyxDQUFDLENBQUM7QUFBQSxBQUN2RCxPQUFJLENBQUEsU0FBUyxBQUFDLENBQUMsTUFBSyxDQUFDLENBQUEsRUFBSyxDQUFBLE1BQUssT0FBTyxFQUFJLElBQUU7QUFBRyxXQUFLLEVBQUksQ0FBQSxNQUFLLE9BQU8sQUFBQyxDQUFDLENBQUEsQ0FBRyxJQUFFLENBQUMsQ0FBQztBQUFBLEVBQ2pGO0FBQUEsQUFDQSxLQUFJLE1BQUs7QUFBRyxTQUFLLEVBQUksQ0FBQSxZQUFXLEVBQUksT0FBSyxDQUFDOztBQUFPLFNBQUssRUFBSSxHQUFDLENBQUM7QUFBQSxBQUM1RCxRQUFNLElBQUksQUFBQyxDQUFDLFlBQVcsRUFBSSxLQUFHLENBQUEsQ0FBSSw2QkFBMkIsQ0FBQSxDQUFJLE9BQUssQ0FBQSxDQUFJLE9BQUssQ0FBQyxDQUFDO0FBQ3JGLENBQUE7QUFFQSxLQUFLLFFBQVEsRUFBSSxlQUFhLENBQUM7QUFDL0IiLCJmaWxlIjoiYWN0aXZpdGllcy9jb25zb2xlVHJhY2tlci5qcyIsInNvdXJjZVJvb3QiOiJsaWIvZXM2Iiwic291cmNlc0NvbnRlbnQiOlsidmFyIF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuXG5mdW5jdGlvbiBDb25zb2xlVHJhY2tlcigpIHtcbn1cblxuQ29uc29sZVRyYWNrZXIucHJvdG90eXBlLmFjdGl2aXR5U3RhdGVDaGFuZ2VkID0gZnVuY3Rpb24gKGFjdGl2aXR5LCByZWFzb24sIHJlc3VsdCkge1xuICAgIHZhciBuYW1lID0gYWN0aXZpdHkudG9TdHJpbmcoKTtcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0Lm1lc3NhZ2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoXy5pc09iamVjdChyZXN1bHQpKSByZXN1bHQgPSBKU09OLnN0cmluZ2lmeShyZXN1bHQpO1xuICAgICAgICBpZiAoXy5pc1N0cmluZyhyZXN1bHQpICYmIHJlc3VsdC5sZW5ndGggPiAxMDApIHJlc3VsdCA9IHJlc3VsdC5zdWJzdHIoMCwgMTAwKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCkgcmVzdWx0ID0gXCIsIHJlc3VsdDogXCIgKyByZXN1bHQ7IGVsc2UgcmVzdWx0ID0gXCJcIjtcbiAgICBjb25zb2xlLmxvZyhcIkFjdGl2aXR5ICdcIiArIG5hbWUgKyBcIicgc3RhdGUgY2hhbmdlZCAtIHJlYXNvbjogXCIgKyByZWFzb24gKyByZXN1bHQpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnNvbGVUcmFja2VyO1xuIl19
