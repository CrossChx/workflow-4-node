"use strict";
var Activity = require("./activity");
var util = require("util");
var _ = require("lodash");
var specStrings = require("../common/specStrings");
var errors = require("../common/errors");
function BeginMethod() {
  Activity.call(this);
  this.canCreateInstance = false;
  this.methodName = null;
  this.instanceIdPath = null;
}
util.inherits(BeginMethod, Activity);
BeginMethod.prototype.run = function(callContext, args) {
  var methodName = this.methodName;
  if (_.isString(methodName)) {
    var mn = methodName.trim();
    if (mn) {
      callContext.createBookmark(specStrings.hosting.createBeginMethodBMName(mn), "_methodInvoked");
      callContext.idle();
      return;
    }
  }
  callContext.fail(new errors.ValidationError("BeginMethod activity methodName property's value '" + methodName + "' must be a valid identifier."));
};
BeginMethod.prototype._methodInvoked = function(callContext, reason, result) {
  callContext.end(reason, result);
};
module.exports = BeginMethod;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJlZ2luTWV0aG9kLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBRUEsQUFBSSxFQUFBLENBQUEsUUFBTyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsWUFBVyxDQUFDLENBQUM7QUFDcEMsQUFBSSxFQUFBLENBQUEsSUFBRyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsTUFBSyxDQUFDLENBQUM7QUFDMUIsQUFBSSxFQUFBLENBQUEsQ0FBQSxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsUUFBTyxDQUFDLENBQUM7QUFDekIsQUFBSSxFQUFBLENBQUEsV0FBVSxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsdUJBQXNCLENBQUMsQ0FBQztBQUNsRCxBQUFJLEVBQUEsQ0FBQSxNQUFLLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxrQkFBaUIsQ0FBQyxDQUFDO0FBRXhDLE9BQVMsWUFBVSxDQUFFLEFBQUQsQ0FBRztBQUNuQixTQUFPLEtBQUssQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDO0FBQ25CLEtBQUcsa0JBQWtCLEVBQUksTUFBSSxDQUFDO0FBQzlCLEtBQUcsV0FBVyxFQUFJLEtBQUcsQ0FBQztBQUN0QixLQUFHLGVBQWUsRUFBSSxLQUFHLENBQUM7QUFDOUI7QUFBQSxBQUVBLEdBQUcsU0FBUyxBQUFDLENBQUMsV0FBVSxDQUFHLFNBQU8sQ0FBQyxDQUFDO0FBRXBDLFVBQVUsVUFBVSxJQUFJLEVBQUksVUFBVSxXQUFVLENBQUcsQ0FBQSxJQUFHLENBQUc7QUFDckQsQUFBSSxJQUFBLENBQUEsVUFBUyxFQUFJLENBQUEsSUFBRyxXQUFXLENBQUM7QUFDaEMsS0FBSSxDQUFBLFNBQVMsQUFBQyxDQUFDLFVBQVMsQ0FBQyxDQUFHO0FBQ3hCLEFBQUksTUFBQSxDQUFBLEVBQUMsRUFBSSxDQUFBLFVBQVMsS0FBSyxBQUFDLEVBQUMsQ0FBQztBQUMxQixPQUFJLEVBQUMsQ0FBRztBQUNKLGdCQUFVLGVBQWUsQUFBQyxDQUFDLFdBQVUsUUFBUSx3QkFBd0IsQUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFHLGlCQUFlLENBQUMsQ0FBQztBQUM3RixnQkFBVSxLQUFLLEFBQUMsRUFBQyxDQUFDO0FBQ2xCLFlBQU07SUFDVjtBQUFBLEVBQ0o7QUFBQSxBQUNBLFlBQVUsS0FBSyxBQUFDLENBQUMsR0FBSSxDQUFBLE1BQUssZ0JBQWdCLEFBQUMsQ0FBQyxvREFBbUQsRUFBSSxXQUFTLENBQUEsQ0FBSSxnQ0FBOEIsQ0FBQyxDQUFDLENBQUM7QUFDckosQ0FBQztBQUVELFVBQVUsVUFBVSxlQUFlLEVBQUksVUFBVSxXQUFVLENBQUcsQ0FBQSxNQUFLLENBQUcsQ0FBQSxNQUFLLENBQUc7QUFDMUUsWUFBVSxJQUFJLEFBQUMsQ0FBQyxNQUFLLENBQUcsT0FBSyxDQUFDLENBQUM7QUFDbkMsQ0FBQztBQUVELEtBQUssUUFBUSxFQUFJLFlBQVUsQ0FBQztBQUFBIiwiZmlsZSI6ImFjdGl2aXRpZXMvYmVnaW5NZXRob2QuanMiLCJzb3VyY2VSb290IjoibGliL2VzNiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5sZXQgQWN0aXZpdHkgPSByZXF1aXJlKFwiLi9hY3Rpdml0eVwiKTtcbmxldCB1dGlsID0gcmVxdWlyZShcInV0aWxcIik7XG5sZXQgXyA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XG5sZXQgc3BlY1N0cmluZ3MgPSByZXF1aXJlKFwiLi4vY29tbW9uL3NwZWNTdHJpbmdzXCIpO1xubGV0IGVycm9ycyA9IHJlcXVpcmUoXCIuLi9jb21tb24vZXJyb3JzXCIpO1xuXG5mdW5jdGlvbiBCZWdpbk1ldGhvZCgpIHtcbiAgICBBY3Rpdml0eS5jYWxsKHRoaXMpO1xuICAgIHRoaXMuY2FuQ3JlYXRlSW5zdGFuY2UgPSBmYWxzZTtcbiAgICB0aGlzLm1ldGhvZE5hbWUgPSBudWxsO1xuICAgIHRoaXMuaW5zdGFuY2VJZFBhdGggPSBudWxsO1xufVxuXG51dGlsLmluaGVyaXRzKEJlZ2luTWV0aG9kLCBBY3Rpdml0eSk7XG5cbkJlZ2luTWV0aG9kLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoY2FsbENvbnRleHQsIGFyZ3MpIHtcbiAgICBsZXQgbWV0aG9kTmFtZSA9IHRoaXMubWV0aG9kTmFtZTtcbiAgICBpZiAoXy5pc1N0cmluZyhtZXRob2ROYW1lKSkge1xuICAgICAgICBsZXQgbW4gPSBtZXRob2ROYW1lLnRyaW0oKTtcbiAgICAgICAgaWYgKG1uKSB7XG4gICAgICAgICAgICBjYWxsQ29udGV4dC5jcmVhdGVCb29rbWFyayhzcGVjU3RyaW5ncy5ob3N0aW5nLmNyZWF0ZUJlZ2luTWV0aG9kQk1OYW1lKG1uKSwgXCJfbWV0aG9kSW52b2tlZFwiKTtcbiAgICAgICAgICAgIGNhbGxDb250ZXh0LmlkbGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxsQ29udGV4dC5mYWlsKG5ldyBlcnJvcnMuVmFsaWRhdGlvbkVycm9yKFwiQmVnaW5NZXRob2QgYWN0aXZpdHkgbWV0aG9kTmFtZSBwcm9wZXJ0eSdzIHZhbHVlICdcIiArIG1ldGhvZE5hbWUgKyBcIicgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXIuXCIpKTtcbn07XG5cbkJlZ2luTWV0aG9kLnByb3RvdHlwZS5fbWV0aG9kSW52b2tlZCA9IGZ1bmN0aW9uIChjYWxsQ29udGV4dCwgcmVhc29uLCByZXN1bHQpIHtcbiAgICBjYWxsQ29udGV4dC5lbmQocmVhc29uLCByZXN1bHQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBCZWdpbk1ldGhvZDsiXX0=
