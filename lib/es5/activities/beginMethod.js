"use strict";
var Activity = require("./activity");
var util = require("util");
var _ = require("lodash");
var specStrings = require("../common/specStrings");
var errors = require("../common/errors");
function BeginMethod() {
  Activity.call(this);
  this.canCreateInstance = false;
  this.methodName = "";
  this.instanceIdPath = "";
}
util.inherits(BeginMethod, Activity);
BeginMethod.prototype.run = function(callContext, args) {
  var methodName = this.get("methodName");
  if (_(methodName).isString()) {
    var mn = methodName.trim();
    if (mn) {
      callContext.createBookmark(specStrings.hosting.createBeginMethodBMName(mn), "_methodInvoked");
      callContext.idle();
      return ;
    }
  }
  this.fail(new errors.ValidationError("BeginMethod activity methodName property's value must be a valid identifier."));
};
BeginMethod.prototype._methodInvoked = function(callContext, reason, result) {
  callContext.end(reason, result);
};
module.exports = BeginMethod;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJlZ2luTWV0aG9kLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsQUFBSSxFQUFBLENBQUEsUUFBTyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsWUFBVyxDQUFDLENBQUM7QUFDcEMsQUFBSSxFQUFBLENBQUEsSUFBRyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsTUFBSyxDQUFDLENBQUM7QUFDMUIsQUFBSSxFQUFBLENBQUEsQ0FBQSxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsUUFBTyxDQUFDLENBQUM7QUFDekIsQUFBSSxFQUFBLENBQUEsV0FBVSxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsdUJBQXNCLENBQUMsQ0FBQztBQUNsRCxBQUFJLEVBQUEsQ0FBQSxNQUFLLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxrQkFBaUIsQ0FBQyxDQUFDO0FBRXhDLE9BQVMsWUFBVSxDQUFFLEFBQUQsQ0FBRztBQUNuQixTQUFPLEtBQUssQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDO0FBQ25CLEtBQUcsa0JBQWtCLEVBQUksTUFBSSxDQUFDO0FBQzlCLEtBQUcsV0FBVyxFQUFJLEdBQUMsQ0FBQztBQUNwQixLQUFHLGVBQWUsRUFBSSxHQUFDLENBQUM7QUFDNUI7QUFBQSxBQUVBLEdBQUcsU0FBUyxBQUFDLENBQUMsV0FBVSxDQUFHLFNBQU8sQ0FBQyxDQUFDO0FBRXBDLFVBQVUsVUFBVSxJQUFJLEVBQUksVUFBVSxXQUFVLENBQUcsQ0FBQSxJQUFHLENBQUc7QUFDckQsQUFBSSxJQUFBLENBQUEsVUFBUyxFQUFJLENBQUEsSUFBRyxJQUFJLEFBQUMsQ0FBQyxZQUFXLENBQUMsQ0FBQztBQUN2QyxLQUFJLENBQUEsQUFBQyxDQUFDLFVBQVMsQ0FBQyxTQUFTLEFBQUMsRUFBQyxDQUFHO0FBQzFCLEFBQUksTUFBQSxDQUFBLEVBQUMsRUFBSSxDQUFBLFVBQVMsS0FBSyxBQUFDLEVBQUMsQ0FBQztBQUMxQixPQUFJLEVBQUMsQ0FBRztBQUNKLGdCQUFVLGVBQWUsQUFBQyxDQUFDLFdBQVUsUUFBUSx3QkFBd0IsQUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFHLGlCQUFlLENBQUMsQ0FBQztBQUM3RixnQkFBVSxLQUFLLEFBQUMsRUFBQyxDQUFDO0FBQ2xCLGFBQU07SUFDVjtBQUFBLEVBQ0o7QUFBQSxBQUNBLEtBQUcsS0FBSyxBQUFDLENBQUMsR0FBSSxDQUFBLE1BQUssZ0JBQWdCLEFBQUMsQ0FBQyw4RUFBNkUsQ0FBQyxDQUFDLENBQUM7QUFDekgsQ0FBQTtBQUVBLFVBQVUsVUFBVSxlQUFlLEVBQUksVUFBVSxXQUFVLENBQUcsQ0FBQSxNQUFLLENBQUcsQ0FBQSxNQUFLLENBQUc7QUFDMUUsWUFBVSxJQUFJLEFBQUMsQ0FBQyxNQUFLLENBQUcsT0FBSyxDQUFDLENBQUM7QUFDbkMsQ0FBQTtBQUVBLEtBQUssUUFBUSxFQUFJLFlBQVUsQ0FBQztBQUFBIiwiZmlsZSI6ImFjdGl2aXRpZXMvYmVnaW5NZXRob2QuanMiLCJzb3VyY2VSb290IjoibGliL2VzNiIsInNvdXJjZXNDb250ZW50IjpbInZhciBBY3Rpdml0eSA9IHJlcXVpcmUoXCIuL2FjdGl2aXR5XCIpO1xyXG52YXIgdXRpbCA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xyXG52YXIgXyA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XHJcbnZhciBzcGVjU3RyaW5ncyA9IHJlcXVpcmUoXCIuLi9jb21tb24vc3BlY1N0cmluZ3NcIik7XHJcbnZhciBlcnJvcnMgPSByZXF1aXJlKFwiLi4vY29tbW9uL2Vycm9yc1wiKTtcclxuXHJcbmZ1bmN0aW9uIEJlZ2luTWV0aG9kKCkge1xyXG4gICAgQWN0aXZpdHkuY2FsbCh0aGlzKTtcclxuICAgIHRoaXMuY2FuQ3JlYXRlSW5zdGFuY2UgPSBmYWxzZTtcclxuICAgIHRoaXMubWV0aG9kTmFtZSA9IFwiXCI7XHJcbiAgICB0aGlzLmluc3RhbmNlSWRQYXRoID0gXCJcIjtcclxufVxyXG5cclxudXRpbC5pbmhlcml0cyhCZWdpbk1ldGhvZCwgQWN0aXZpdHkpO1xyXG5cclxuQmVnaW5NZXRob2QucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIChjYWxsQ29udGV4dCwgYXJncykge1xyXG4gICAgdmFyIG1ldGhvZE5hbWUgPSB0aGlzLmdldChcIm1ldGhvZE5hbWVcIik7XHJcbiAgICBpZiAoXyhtZXRob2ROYW1lKS5pc1N0cmluZygpKSB7XHJcbiAgICAgICAgdmFyIG1uID0gbWV0aG9kTmFtZS50cmltKCk7XHJcbiAgICAgICAgaWYgKG1uKSB7XHJcbiAgICAgICAgICAgIGNhbGxDb250ZXh0LmNyZWF0ZUJvb2ttYXJrKHNwZWNTdHJpbmdzLmhvc3RpbmcuY3JlYXRlQmVnaW5NZXRob2RCTU5hbWUobW4pLCBcIl9tZXRob2RJbnZva2VkXCIpO1xyXG4gICAgICAgICAgICBjYWxsQ29udGV4dC5pZGxlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmZhaWwobmV3IGVycm9ycy5WYWxpZGF0aW9uRXJyb3IoXCJCZWdpbk1ldGhvZCBhY3Rpdml0eSBtZXRob2ROYW1lIHByb3BlcnR5J3MgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXIuXCIpKTtcclxufVxyXG5cclxuQmVnaW5NZXRob2QucHJvdG90eXBlLl9tZXRob2RJbnZva2VkID0gZnVuY3Rpb24gKGNhbGxDb250ZXh0LCByZWFzb24sIHJlc3VsdCkge1xyXG4gICAgY2FsbENvbnRleHQuZW5kKHJlYXNvbiwgcmVzdWx0KTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBCZWdpbk1ldGhvZDsiXX0=
