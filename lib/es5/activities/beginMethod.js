"use strict";
var Activity = require("./activity");
var util = require("util");
var _ = require("lodash");
var specStrings = require("../common/specStrings");
var errors = require("../common/errors");
function BeginMethod() {
  Activity.call(this);
  this.canCreateInstance = false;
  this.methodName = "";
  this.instanceIdPath = "";
}
util.inherits(BeginMethod, Activity);
BeginMethod.prototype.run = function(callContext, args) {
  var methodName = this.get("methodName");
  if (_(methodName).isString()) {
    var mn = methodName.trim();
    if (mn) {
      callContext.createBookmark(specStrings.hosting.createBeginMethodBMName(mn), "_methodInvoked");
      callContext.idle();
      return ;
    }
  }
  this.fail(new errors.ValidationError("BeginMethod activity methodName property's value must be a valid identifier."));
};
BeginMethod.prototype._methodInvoked = function(callContext, reason, result) {
  callContext.end(reason, result);
};
module.exports = BeginMethod;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJlZ2luTWV0aG9kLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsQUFBSSxFQUFBLENBQUEsUUFBTyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsWUFBVyxDQUFDLENBQUM7QUFDcEMsQUFBSSxFQUFBLENBQUEsSUFBRyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsTUFBSyxDQUFDLENBQUM7QUFDMUIsQUFBSSxFQUFBLENBQUEsQ0FBQSxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsUUFBTyxDQUFDLENBQUM7QUFDekIsQUFBSSxFQUFBLENBQUEsV0FBVSxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsdUJBQXNCLENBQUMsQ0FBQztBQUNsRCxBQUFJLEVBQUEsQ0FBQSxNQUFLLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxrQkFBaUIsQ0FBQyxDQUFDO0FBRXhDLE9BQVMsWUFBVSxDQUFFLEFBQUQsQ0FBRztBQUNuQixTQUFPLEtBQUssQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDO0FBQ25CLEtBQUcsa0JBQWtCLEVBQUksTUFBSSxDQUFDO0FBQzlCLEtBQUcsV0FBVyxFQUFJLEdBQUMsQ0FBQztBQUNwQixLQUFHLGVBQWUsRUFBSSxHQUFDLENBQUM7QUFDNUI7QUFBQSxBQUVBLEdBQUcsU0FBUyxBQUFDLENBQUMsV0FBVSxDQUFHLFNBQU8sQ0FBQyxDQUFDO0FBRXBDLFVBQVUsVUFBVSxJQUFJLEVBQUksVUFBVSxXQUFVLENBQUcsQ0FBQSxJQUFHLENBQUc7QUFDckQsQUFBSSxJQUFBLENBQUEsVUFBUyxFQUFJLENBQUEsSUFBRyxJQUFJLEFBQUMsQ0FBQyxZQUFXLENBQUMsQ0FBQztBQUN2QyxLQUFJLENBQUEsQUFBQyxDQUFDLFVBQVMsQ0FBQyxTQUFTLEFBQUMsRUFBQyxDQUFHO0FBQzFCLEFBQUksTUFBQSxDQUFBLEVBQUMsRUFBSSxDQUFBLFVBQVMsS0FBSyxBQUFDLEVBQUMsQ0FBQztBQUMxQixPQUFJLEVBQUMsQ0FBRztBQUNKLGdCQUFVLGVBQWUsQUFBQyxDQUFDLFdBQVUsUUFBUSx3QkFBd0IsQUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFHLGlCQUFlLENBQUMsQ0FBQztBQUM3RixnQkFBVSxLQUFLLEFBQUMsRUFBQyxDQUFDO0FBQ2xCLGFBQU07SUFDVjtBQUFBLEVBQ0o7QUFBQSxBQUNBLEtBQUcsS0FBSyxBQUFDLENBQUMsR0FBSSxDQUFBLE1BQUssZ0JBQWdCLEFBQUMsQ0FBQyw4RUFBNkUsQ0FBQyxDQUFDLENBQUM7QUFDekgsQ0FBQTtBQUVBLFVBQVUsVUFBVSxlQUFlLEVBQUksVUFBVSxXQUFVLENBQUcsQ0FBQSxNQUFLLENBQUcsQ0FBQSxNQUFLLENBQUc7QUFDMUUsWUFBVSxJQUFJLEFBQUMsQ0FBQyxNQUFLLENBQUcsT0FBSyxDQUFDLENBQUM7QUFDbkMsQ0FBQTtBQUVBLEtBQUssUUFBUSxFQUFJLFlBQVUsQ0FBQztBQUFBIiwiZmlsZSI6ImFjdGl2aXRpZXMvYmVnaW5NZXRob2QuanMiLCJzb3VyY2VSb290IjoibGliL2VzNiIsInNvdXJjZXNDb250ZW50IjpbInZhciBBY3Rpdml0eSA9IHJlcXVpcmUoXCIuL2FjdGl2aXR5XCIpO1xudmFyIHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcbnZhciBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcbnZhciBzcGVjU3RyaW5ncyA9IHJlcXVpcmUoXCIuLi9jb21tb24vc3BlY1N0cmluZ3NcIik7XG52YXIgZXJyb3JzID0gcmVxdWlyZShcIi4uL2NvbW1vbi9lcnJvcnNcIik7XG5cbmZ1bmN0aW9uIEJlZ2luTWV0aG9kKCkge1xuICAgIEFjdGl2aXR5LmNhbGwodGhpcyk7XG4gICAgdGhpcy5jYW5DcmVhdGVJbnN0YW5jZSA9IGZhbHNlO1xuICAgIHRoaXMubWV0aG9kTmFtZSA9IFwiXCI7XG4gICAgdGhpcy5pbnN0YW5jZUlkUGF0aCA9IFwiXCI7XG59XG5cbnV0aWwuaW5oZXJpdHMoQmVnaW5NZXRob2QsIEFjdGl2aXR5KTtcblxuQmVnaW5NZXRob2QucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIChjYWxsQ29udGV4dCwgYXJncykge1xuICAgIHZhciBtZXRob2ROYW1lID0gdGhpcy5nZXQoXCJtZXRob2ROYW1lXCIpO1xuICAgIGlmIChfKG1ldGhvZE5hbWUpLmlzU3RyaW5nKCkpIHtcbiAgICAgICAgdmFyIG1uID0gbWV0aG9kTmFtZS50cmltKCk7XG4gICAgICAgIGlmIChtbikge1xuICAgICAgICAgICAgY2FsbENvbnRleHQuY3JlYXRlQm9va21hcmsoc3BlY1N0cmluZ3MuaG9zdGluZy5jcmVhdGVCZWdpbk1ldGhvZEJNTmFtZShtbiksIFwiX21ldGhvZEludm9rZWRcIik7XG4gICAgICAgICAgICBjYWxsQ29udGV4dC5pZGxlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5mYWlsKG5ldyBlcnJvcnMuVmFsaWRhdGlvbkVycm9yKFwiQmVnaW5NZXRob2QgYWN0aXZpdHkgbWV0aG9kTmFtZSBwcm9wZXJ0eSdzIHZhbHVlIG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyLlwiKSk7XG59XG5cbkJlZ2luTWV0aG9kLnByb3RvdHlwZS5fbWV0aG9kSW52b2tlZCA9IGZ1bmN0aW9uIChjYWxsQ29udGV4dCwgcmVhc29uLCByZXN1bHQpIHtcbiAgICBjYWxsQ29udGV4dC5lbmQocmVhc29uLCByZXN1bHQpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJlZ2luTWV0aG9kOyJdfQ==
