"use strict";
var Activity = require("./activity");
var util = require("util");
function Truthy() {
  Activity.call(this);
  this.value = false;
  this.is = true;
  this.isNot = false;
}
util.inherits(Truthy, Activity);
Truthy.prototype.run = function(callContext, args) {
  callContext.schedule(this.value, "_valueGot");
};
Truthy.prototype._valueGot = function(callContext, reason, result) {
  if (reason !== Activity.states.complete) {
    callContext.end(reason, result);
    return;
  }
  if (result) {
    callContext.schedule(this.is, "_done");
  } else {
    callContext.schedule(this.isNot, "_done");
  }
};
Truthy.prototype._done = function(callContext, reason, result) {
  callContext.end(reason, result);
};
module.exports = Truthy;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRydXRoeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUVBLEFBQUksRUFBQSxDQUFBLFFBQU8sRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLFlBQVcsQ0FBQyxDQUFDO0FBQ3BDLEFBQUksRUFBQSxDQUFBLElBQUcsRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLE1BQUssQ0FBQyxDQUFDO0FBRTFCLE9BQVMsT0FBSyxDQUFFLEFBQUQsQ0FBRztBQUNkLFNBQU8sS0FBSyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUM7QUFFbkIsS0FBRyxNQUFNLEVBQUksTUFBSSxDQUFDO0FBQ2xCLEtBQUcsR0FBRyxFQUFJLEtBQUcsQ0FBQztBQUNkLEtBQUcsTUFBTSxFQUFJLE1BQUksQ0FBQztBQUN0QjtBQUFBLEFBRUEsR0FBRyxTQUFTLEFBQUMsQ0FBQyxNQUFLLENBQUcsU0FBTyxDQUFDLENBQUM7QUFFL0IsS0FBSyxVQUFVLElBQUksRUFBSSxVQUFTLFdBQVUsQ0FBRyxDQUFBLElBQUcsQ0FBRztBQUMvQyxZQUFVLFNBQVMsQUFBQyxDQUFDLElBQUcsTUFBTSxDQUFHLFlBQVUsQ0FBQyxDQUFDO0FBQ2pELENBQUM7QUFFRCxLQUFLLFVBQVUsVUFBVSxFQUFJLFVBQVMsV0FBVSxDQUFHLENBQUEsTUFBSyxDQUFHLENBQUEsTUFBSyxDQUFHO0FBQy9ELEtBQUksTUFBSyxJQUFNLENBQUEsUUFBTyxPQUFPLFNBQVMsQ0FBRztBQUNyQyxjQUFVLElBQUksQUFBQyxDQUFDLE1BQUssQ0FBRyxPQUFLLENBQUMsQ0FBQztBQUMvQixVQUFNO0VBQ1Y7QUFBQSxBQUVBLEtBQUksTUFBSyxDQUFHO0FBQ1IsY0FBVSxTQUFTLEFBQUMsQ0FBQyxJQUFHLEdBQUcsQ0FBRyxRQUFNLENBQUMsQ0FBQztFQUMxQyxLQUNLO0FBQ0QsY0FBVSxTQUFTLEFBQUMsQ0FBQyxJQUFHLE1BQU0sQ0FBRyxRQUFNLENBQUMsQ0FBQztFQUM3QztBQUFBLEFBQ0osQ0FBQztBQUVELEtBQUssVUFBVSxNQUFNLEVBQUksVUFBUyxXQUFVLENBQUcsQ0FBQSxNQUFLLENBQUcsQ0FBQSxNQUFLLENBQUc7QUFDM0QsWUFBVSxJQUFJLEFBQUMsQ0FBQyxNQUFLLENBQUcsT0FBSyxDQUFDLENBQUM7QUFDbkMsQ0FBQztBQUVELEtBQUssUUFBUSxFQUFJLE9BQUssQ0FBQztBQUFBIiwiZmlsZSI6ImFjdGl2aXRpZXMvdHJ1dGh5LmpzIiwic291cmNlUm9vdCI6ImxpYi9lczYiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubGV0IEFjdGl2aXR5ID0gcmVxdWlyZShcIi4vYWN0aXZpdHlcIik7XG5sZXQgdXRpbCA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xuXG5mdW5jdGlvbiBUcnV0aHkoKSB7XG4gICAgQWN0aXZpdHkuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMudmFsdWUgPSBmYWxzZTtcbiAgICB0aGlzLmlzID0gdHJ1ZTtcbiAgICB0aGlzLmlzTm90ID0gZmFsc2U7XG59XG5cbnV0aWwuaW5oZXJpdHMoVHJ1dGh5LCBBY3Rpdml0eSk7XG5cblRydXRoeS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oY2FsbENvbnRleHQsIGFyZ3MpIHtcbiAgICBjYWxsQ29udGV4dC5zY2hlZHVsZSh0aGlzLnZhbHVlLCBcIl92YWx1ZUdvdFwiKTtcbn07XG5cblRydXRoeS5wcm90b3R5cGUuX3ZhbHVlR290ID0gZnVuY3Rpb24oY2FsbENvbnRleHQsIHJlYXNvbiwgcmVzdWx0KSB7XG4gICAgaWYgKHJlYXNvbiAhPT0gQWN0aXZpdHkuc3RhdGVzLmNvbXBsZXRlKSB7XG4gICAgICAgIGNhbGxDb250ZXh0LmVuZChyZWFzb24sIHJlc3VsdCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIGNhbGxDb250ZXh0LnNjaGVkdWxlKHRoaXMuaXMsIFwiX2RvbmVcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYWxsQ29udGV4dC5zY2hlZHVsZSh0aGlzLmlzTm90LCBcIl9kb25lXCIpO1xuICAgIH1cbn07XG5cblRydXRoeS5wcm90b3R5cGUuX2RvbmUgPSBmdW5jdGlvbihjYWxsQ29udGV4dCwgcmVhc29uLCByZXN1bHQpIHtcbiAgICBjYWxsQ29udGV4dC5lbmQocmVhc29uLCByZXN1bHQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUcnV0aHk7Il19
