"use strict";
var Activity = require("./activity");
var util = require("util");
var _ = require("lodash");
var guids = require("../common/guids");
var WithBody = require("./withBody");
function Case() {
  WithBody.call(this);
  this.value = null;
}
util.inherits(Case, WithBody);
Case.prototype.run = function(callContext, args) {
  callContext.schedule(this.value, "_valueGot");
};
Case.prototype._valueGot = function(callContext, reason, result) {
  if (reason === Activity.states.complete) {
    if (this.expression === result) {
      WithBody.prototype.run.call(this, callContext);
    } else {
      callContext.complete(guids.markers.nope);
    }
  } else {
    callContext.end(reason, result);
  }
};
module.exports = Case;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhc2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxBQUFJLEVBQUEsQ0FBQSxRQUFPLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxZQUFXLENBQUMsQ0FBQztBQUNwQyxBQUFJLEVBQUEsQ0FBQSxJQUFHLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxNQUFLLENBQUMsQ0FBQztBQUMxQixBQUFJLEVBQUEsQ0FBQSxDQUFBLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxRQUFPLENBQUMsQ0FBQztBQUN6QixBQUFJLEVBQUEsQ0FBQSxLQUFJLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxpQkFBZ0IsQ0FBQyxDQUFDO0FBQ3RDLEFBQUksRUFBQSxDQUFBLFFBQU8sRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLFlBQVcsQ0FBQyxDQUFDO0FBRXBDLE9BQVMsS0FBRyxDQUFFLEFBQUQsQ0FBRztBQUNaLFNBQU8sS0FBSyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUM7QUFFbkIsS0FBRyxNQUFNLEVBQUksS0FBRyxDQUFDO0FBQ3JCO0FBQUEsQUFFQSxHQUFHLFNBQVMsQUFBQyxDQUFDLElBQUcsQ0FBRyxTQUFPLENBQUMsQ0FBQztBQUU3QixHQUFHLFVBQVUsSUFBSSxFQUFJLFVBQVUsV0FBVSxDQUFHLENBQUEsSUFBRyxDQUFHO0FBQzlDLFlBQVUsU0FBUyxBQUFDLENBQUMsSUFBRyxNQUFNLENBQUcsWUFBVSxDQUFDLENBQUM7QUFDakQsQ0FBQztBQUVELEdBQUcsVUFBVSxVQUFVLEVBQUksVUFBVSxXQUFVLENBQUcsQ0FBQSxNQUFLLENBQUcsQ0FBQSxNQUFLLENBQUc7QUFDOUQsS0FBSSxNQUFLLElBQU0sQ0FBQSxRQUFPLE9BQU8sU0FBUyxDQUFHO0FBQ3JDLE9BQUksSUFBRyxXQUFXLElBQU0sT0FBSyxDQUFHO0FBQzVCLGFBQU8sVUFBVSxJQUFJLEtBQUssQUFBQyxDQUFDLElBQUcsQ0FBRyxZQUFVLENBQUMsQ0FBQztJQUNsRCxLQUNLO0FBQ0QsZ0JBQVUsU0FBUyxBQUFDLENBQUMsS0FBSSxRQUFRLEtBQUssQ0FBQyxDQUFDO0lBQzVDO0FBQUEsRUFDSixLQUNLO0FBQ0QsY0FBVSxJQUFJLEFBQUMsQ0FBQyxNQUFLLENBQUcsT0FBSyxDQUFDLENBQUM7RUFDbkM7QUFBQSxBQUNKLENBQUM7QUFFRCxLQUFLLFFBQVEsRUFBSSxLQUFHLENBQUM7QUFBQSIsImZpbGUiOiJhY3Rpdml0aWVzL2Nhc2UuanMiLCJzb3VyY2VSb290IjoibGliL2VzNiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5sZXQgQWN0aXZpdHkgPSByZXF1aXJlKFwiLi9hY3Rpdml0eVwiKTtcbmxldCB1dGlsID0gcmVxdWlyZShcInV0aWxcIik7XG5sZXQgXyA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XG5sZXQgZ3VpZHMgPSByZXF1aXJlKFwiLi4vY29tbW9uL2d1aWRzXCIpO1xubGV0IFdpdGhCb2R5ID0gcmVxdWlyZShcIi4vd2l0aEJvZHlcIik7XG5cbmZ1bmN0aW9uIENhc2UoKSB7XG4gICAgV2l0aEJvZHkuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMudmFsdWUgPSBudWxsO1xufVxuXG51dGlsLmluaGVyaXRzKENhc2UsIFdpdGhCb2R5KTtcblxuQ2FzZS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKGNhbGxDb250ZXh0LCBhcmdzKSB7XG4gICAgY2FsbENvbnRleHQuc2NoZWR1bGUodGhpcy52YWx1ZSwgXCJfdmFsdWVHb3RcIik7XG59O1xuXG5DYXNlLnByb3RvdHlwZS5fdmFsdWVHb3QgPSBmdW5jdGlvbiAoY2FsbENvbnRleHQsIHJlYXNvbiwgcmVzdWx0KSB7XG4gICAgaWYgKHJlYXNvbiA9PT0gQWN0aXZpdHkuc3RhdGVzLmNvbXBsZXRlKSB7XG4gICAgICAgIGlmICh0aGlzLmV4cHJlc3Npb24gPT09IHJlc3VsdCkge1xuICAgICAgICAgICAgV2l0aEJvZHkucHJvdG90eXBlLnJ1bi5jYWxsKHRoaXMsIGNhbGxDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxDb250ZXh0LmNvbXBsZXRlKGd1aWRzLm1hcmtlcnMubm9wZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNhbGxDb250ZXh0LmVuZChyZWFzb24sIHJlc3VsdCk7XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYXNlOyJdfQ==
