{"version":3,"names":[],"mappings":"","sources":["activities/expression.js"],"sourcesContent":["/* jshint -W054*/\n\"use strict\";\n\nlet Activity = require(\"./activity\");\nlet util = require(\"util\");\nlet _ = require(\"lodash\");\n\nfunction Expression(expr) {\n    Activity.call(this);\n    this.expr = expr || null;\n    this.nonSerializedProperties.add(\"_f\");\n}\n\nutil.inherits(Expression, Activity);\n\nExpression.prototype.run = function (callContext, args) {\n    let self = this;\n    let expr = self.expr;\n    if (expr) {\n        try {\n            let f = self._f;\n            if (!f) {\n                f = self._f = new Function(\"_\", \"return (\" + expr + \")\");\n            }\n            callContext.complete(f.call(self, _));\n        }\n        catch(e) {\n            callContext.fail(e);\n        }\n    }\n    else {\n        callContext.complete(null);\n    }\n};\n\nmodule.exports = Expression;\n"],"file":"activities/expression.js","sourceRoot":"/source/"}