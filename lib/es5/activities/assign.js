"use strict";
var Activity = require("./activity");
var util = require("util");
function Assign() {
  Activity.call(this);
  this.value = null;
  this.to = "";
}
util.inherits(Assign, Activity);
Assign.prototype.run = function(callContext, args) {
  if (this.get("to")) {
    callContext.schedule(this.get("value"), "_valueGot");
  } else {
    callContext.complete();
  }
};
Assign.prototype._valueGot = function(callContext, reason, result) {
  if (reason === Activity.states.complete) {
    this.set(this.get("to"), result);
  }
  callContext.end(reason, result);
};
module.exports = Assign;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2lnbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLEFBQUksRUFBQSxDQUFBLFFBQU8sRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLFlBQVcsQ0FBQyxDQUFDO0FBQ3BDLEFBQUksRUFBQSxDQUFBLElBQUcsRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLE1BQUssQ0FBQyxDQUFDO0FBRTFCLE9BQVMsT0FBSyxDQUFFLEFBQUQsQ0FBRztBQUNkLFNBQU8sS0FBSyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUM7QUFDbkIsS0FBRyxNQUFNLEVBQUksS0FBRyxDQUFDO0FBQ2pCLEtBQUcsR0FBRyxFQUFJLEdBQUMsQ0FBQztBQUNoQjtBQUFBLEFBRUEsR0FBRyxTQUFTLEFBQUMsQ0FBQyxNQUFLLENBQUcsU0FBTyxDQUFDLENBQUM7QUFFL0IsS0FBSyxVQUFVLElBQUksRUFBSSxVQUFVLFdBQVUsQ0FBRyxDQUFBLElBQUcsQ0FBRztBQUNoRCxLQUFJLElBQUcsSUFBSSxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUc7QUFDaEIsY0FBVSxTQUFTLEFBQUMsQ0FBQyxJQUFHLElBQUksQUFBQyxDQUFDLE9BQU0sQ0FBQyxDQUFHLFlBQVUsQ0FBQyxDQUFDO0VBQ3hELEtBQ0s7QUFDRCxjQUFVLFNBQVMsQUFBQyxFQUFDLENBQUM7RUFDMUI7QUFBQSxBQUNKLENBQUE7QUFFQSxLQUFLLFVBQVUsVUFBVSxFQUFJLFVBQVUsV0FBVSxDQUFHLENBQUEsTUFBSyxDQUFHLENBQUEsTUFBSyxDQUFHO0FBQ2hFLEtBQUksTUFBSyxJQUFNLENBQUEsUUFBTyxPQUFPLFNBQVMsQ0FBRztBQUNyQyxPQUFHLElBQUksQUFBQyxDQUFDLElBQUcsSUFBSSxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUcsT0FBSyxDQUFDLENBQUM7RUFDcEM7QUFBQSxBQUNBLFlBQVUsSUFBSSxBQUFDLENBQUMsTUFBSyxDQUFHLE9BQUssQ0FBQyxDQUFDO0FBQ25DLENBQUE7QUFFQSxLQUFLLFFBQVEsRUFBSSxPQUFLLENBQUM7QUFBQSIsImZpbGUiOiJhY3Rpdml0aWVzL2Fzc2lnbi5qcyIsInNvdXJjZVJvb3QiOiJsaWIvZXM2Iiwic291cmNlc0NvbnRlbnQiOlsidmFyIEFjdGl2aXR5ID0gcmVxdWlyZShcIi4vYWN0aXZpdHlcIik7XHJcbnZhciB1dGlsID0gcmVxdWlyZShcInV0aWxcIik7XHJcblxyXG5mdW5jdGlvbiBBc3NpZ24oKSB7XHJcbiAgICBBY3Rpdml0eS5jYWxsKHRoaXMpO1xyXG4gICAgdGhpcy52YWx1ZSA9IG51bGw7XHJcbiAgICB0aGlzLnRvID0gXCJcIjtcclxufVxyXG5cclxudXRpbC5pbmhlcml0cyhBc3NpZ24sIEFjdGl2aXR5KTtcclxuXHJcbkFzc2lnbi5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKGNhbGxDb250ZXh0LCBhcmdzKSB7XHJcbiAgICBpZiAodGhpcy5nZXQoXCJ0b1wiKSkge1xyXG4gICAgICAgIGNhbGxDb250ZXh0LnNjaGVkdWxlKHRoaXMuZ2V0KFwidmFsdWVcIiksIFwiX3ZhbHVlR290XCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY2FsbENvbnRleHQuY29tcGxldGUoKTtcclxuICAgIH1cclxufVxyXG5cclxuQXNzaWduLnByb3RvdHlwZS5fdmFsdWVHb3QgPSBmdW5jdGlvbiAoY2FsbENvbnRleHQsIHJlYXNvbiwgcmVzdWx0KSB7XHJcbiAgICBpZiAocmVhc29uID09PSBBY3Rpdml0eS5zdGF0ZXMuY29tcGxldGUpIHtcclxuICAgICAgICB0aGlzLnNldCh0aGlzLmdldChcInRvXCIpLCByZXN1bHQpO1xyXG4gICAgfVxyXG4gICAgY2FsbENvbnRleHQuZW5kKHJlYXNvbiwgcmVzdWx0KTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBBc3NpZ247Il19
