"use strict";
var Activity = require("./activity");
var util = require("util");
function Assign() {
  Activity.call(this);
  this.value = null;
  this.to = "";
}
util.inherits(Assign, Activity);
Assign.prototype.run = function(callContext, args) {
  if (this.get("to")) {
    callContext.schedule(this.get("value"), "_valueGot");
  } else {
    callContext.complete();
  }
};
Assign.prototype._valueGot = function(callContext, reason, result) {
  if (reason === Activity.states.complete) {
    this.set(this.get("to"), result);
  }
  callContext.end(reason, result);
};
module.exports = Assign;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2lnbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLEFBQUksRUFBQSxDQUFBLFFBQU8sRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLFlBQVcsQ0FBQyxDQUFDO0FBQ3BDLEFBQUksRUFBQSxDQUFBLElBQUcsRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLE1BQUssQ0FBQyxDQUFDO0FBRTFCLE9BQVMsT0FBSyxDQUFFLEFBQUQsQ0FBRztBQUNkLFNBQU8sS0FBSyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUM7QUFDbkIsS0FBRyxNQUFNLEVBQUksS0FBRyxDQUFDO0FBQ2pCLEtBQUcsR0FBRyxFQUFJLEdBQUMsQ0FBQztBQUNoQjtBQUFBLEFBRUEsR0FBRyxTQUFTLEFBQUMsQ0FBQyxNQUFLLENBQUcsU0FBTyxDQUFDLENBQUM7QUFFL0IsS0FBSyxVQUFVLElBQUksRUFBSSxVQUFVLFdBQVUsQ0FBRyxDQUFBLElBQUcsQ0FBRztBQUNoRCxLQUFJLElBQUcsSUFBSSxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUc7QUFDaEIsY0FBVSxTQUFTLEFBQUMsQ0FBQyxJQUFHLElBQUksQUFBQyxDQUFDLE9BQU0sQ0FBQyxDQUFHLFlBQVUsQ0FBQyxDQUFDO0VBQ3hELEtBQ0s7QUFDRCxjQUFVLFNBQVMsQUFBQyxFQUFDLENBQUM7RUFDMUI7QUFBQSxBQUNKLENBQUE7QUFFQSxLQUFLLFVBQVUsVUFBVSxFQUFJLFVBQVUsV0FBVSxDQUFHLENBQUEsTUFBSyxDQUFHLENBQUEsTUFBSyxDQUFHO0FBQ2hFLEtBQUksTUFBSyxJQUFNLENBQUEsUUFBTyxPQUFPLFNBQVMsQ0FBRztBQUNyQyxPQUFHLElBQUksQUFBQyxDQUFDLElBQUcsSUFBSSxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUcsT0FBSyxDQUFDLENBQUM7RUFDcEM7QUFBQSxBQUNBLFlBQVUsSUFBSSxBQUFDLENBQUMsTUFBSyxDQUFHLE9BQUssQ0FBQyxDQUFDO0FBQ25DLENBQUE7QUFFQSxLQUFLLFFBQVEsRUFBSSxPQUFLLENBQUM7QUFBQSIsImZpbGUiOiJhY3Rpdml0aWVzL2Fzc2lnbi5qcyIsInNvdXJjZVJvb3QiOiJsaWIvZXM2Iiwic291cmNlc0NvbnRlbnQiOlsidmFyIEFjdGl2aXR5ID0gcmVxdWlyZShcIi4vYWN0aXZpdHlcIik7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xuXG5mdW5jdGlvbiBBc3NpZ24oKSB7XG4gICAgQWN0aXZpdHkuY2FsbCh0aGlzKTtcbiAgICB0aGlzLnZhbHVlID0gbnVsbDtcbiAgICB0aGlzLnRvID0gXCJcIjtcbn1cblxudXRpbC5pbmhlcml0cyhBc3NpZ24sIEFjdGl2aXR5KTtcblxuQXNzaWduLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoY2FsbENvbnRleHQsIGFyZ3MpIHtcbiAgICBpZiAodGhpcy5nZXQoXCJ0b1wiKSkge1xuICAgICAgICBjYWxsQ29udGV4dC5zY2hlZHVsZSh0aGlzLmdldChcInZhbHVlXCIpLCBcIl92YWx1ZUdvdFwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNhbGxDb250ZXh0LmNvbXBsZXRlKCk7XG4gICAgfVxufVxuXG5Bc3NpZ24ucHJvdG90eXBlLl92YWx1ZUdvdCA9IGZ1bmN0aW9uIChjYWxsQ29udGV4dCwgcmVhc29uLCByZXN1bHQpIHtcbiAgICBpZiAocmVhc29uID09PSBBY3Rpdml0eS5zdGF0ZXMuY29tcGxldGUpIHtcbiAgICAgICAgdGhpcy5zZXQodGhpcy5nZXQoXCJ0b1wiKSwgcmVzdWx0KTtcbiAgICB9XG4gICAgY2FsbENvbnRleHQuZW5kKHJlYXNvbiwgcmVzdWx0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBc3NpZ247Il19
