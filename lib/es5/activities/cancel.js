"use strict";
var Activity = require("./activity");
var util = require("util");
var errors = require("../common/errors");
function Cancel() {
  Activity.call(this);
  this.force = false;
}
util.inherits(Cancel, Activity);
Cancel.prototype.run = function(callContext, args) {
  if (this.force) {
    callContext.fail(new errors.Cancelled());
  } else {
    callContext.cancel();
  }
};
module.exports = Cancel;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbmNlbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUVBLEFBQUksRUFBQSxDQUFBLFFBQU8sRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLFlBQVcsQ0FBQyxDQUFDO0FBQ3BDLEFBQUksRUFBQSxDQUFBLElBQUcsRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLE1BQUssQ0FBQyxDQUFDO0FBQzFCLEFBQUksRUFBQSxDQUFBLE1BQUssRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLGtCQUFpQixDQUFDLENBQUM7QUFFeEMsT0FBUyxPQUFLLENBQUUsQUFBRCxDQUFHO0FBQ2QsU0FBTyxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQztBQUVuQixLQUFHLE1BQU0sRUFBSSxNQUFJLENBQUM7QUFDdEI7QUFBQSxBQUVBLEdBQUcsU0FBUyxBQUFDLENBQUMsTUFBSyxDQUFHLFNBQU8sQ0FBQyxDQUFDO0FBRS9CLEtBQUssVUFBVSxJQUFJLEVBQUksVUFBUyxXQUFVLENBQUcsQ0FBQSxJQUFHLENBQUc7QUFDL0MsS0FBSSxJQUFHLE1BQU0sQ0FBRztBQUNaLGNBQVUsS0FBSyxBQUFDLENBQUMsR0FBSSxDQUFBLE1BQUssVUFBVSxBQUFDLEVBQUMsQ0FBQyxDQUFDO0VBQzVDLEtBQ0s7QUFDRCxjQUFVLE9BQU8sQUFBQyxFQUFDLENBQUM7RUFDeEI7QUFBQSxBQUNKLENBQUM7QUFFRCxLQUFLLFFBQVEsRUFBSSxPQUFLLENBQUM7QUFBQSIsImZpbGUiOiJhY3Rpdml0aWVzL2NhbmNlbC5qcyIsInNvdXJjZVJvb3QiOiJsaWIvZXM2Iiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmxldCBBY3Rpdml0eSA9IHJlcXVpcmUoXCIuL2FjdGl2aXR5XCIpO1xubGV0IHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcbmxldCBlcnJvcnMgPSByZXF1aXJlKFwiLi4vY29tbW9uL2Vycm9yc1wiKTtcblxuZnVuY3Rpb24gQ2FuY2VsKCkge1xuICAgIEFjdGl2aXR5LmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLmZvcmNlID0gZmFsc2U7XG59XG5cbnV0aWwuaW5oZXJpdHMoQ2FuY2VsLCBBY3Rpdml0eSk7XG5cbkNhbmNlbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oY2FsbENvbnRleHQsIGFyZ3MpIHtcbiAgICBpZiAodGhpcy5mb3JjZSkge1xuICAgICAgICBjYWxsQ29udGV4dC5mYWlsKG5ldyBlcnJvcnMuQ2FuY2VsbGVkKCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2FsbENvbnRleHQuY2FuY2VsKCk7XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWw7Il19
