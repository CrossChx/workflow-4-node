"use strict";
var Activity = require("./activity");
var util = require("util");
var errors = require("../common/errors");
function Cancel() {
  Activity.call(this);
  this.force = false;
}
util.inherits(Cancel, Activity);
Cancel.prototype.run = function(callContext, args) {
  if (this.force) {
    callContext.fail(new errors.Cancelled());
  } else {
    callContext.cancel();
  }
};
module.exports = Cancel;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbmNlbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUVBLEFBQUksRUFBQSxDQUFBLFFBQU8sRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLFlBQVcsQ0FBQyxDQUFDO0FBQ3BDLEFBQUksRUFBQSxDQUFBLElBQUcsRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLE1BQUssQ0FBQyxDQUFDO0FBQzFCLEFBQUksRUFBQSxDQUFBLE1BQUssRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLGtCQUFpQixDQUFDLENBQUM7QUFFeEMsT0FBUyxPQUFLLENBQUUsQUFBRCxDQUFHO0FBQ2QsU0FBTyxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQztBQUVuQixLQUFHLE1BQU0sRUFBSSxNQUFJLENBQUM7QUFDdEI7QUFBQSxBQUVBLEdBQUcsU0FBUyxBQUFDLENBQUMsTUFBSyxDQUFHLFNBQU8sQ0FBQyxDQUFDO0FBRS9CLEtBQUssVUFBVSxJQUFJLEVBQUksVUFBUyxXQUFVLENBQUcsQ0FBQSxJQUFHLENBQUc7QUFDL0MsS0FBSSxJQUFHLE1BQU0sQ0FBRztBQUNaLGNBQVUsS0FBSyxBQUFDLENBQUMsR0FBSSxDQUFBLE1BQUssVUFBVSxBQUFDLEVBQUMsQ0FBQyxDQUFDO0VBQzVDLEtBQ0s7QUFDRCxjQUFVLE9BQU8sQUFBQyxFQUFDLENBQUM7RUFDeEI7QUFBQSxBQUNKLENBQUM7QUFFRCxLQUFLLFFBQVEsRUFBSSxPQUFLLENBQUM7QUFBQSIsImZpbGUiOiJhY3Rpdml0aWVzL2NhbmNlbC5qcyIsInNvdXJjZVJvb3QiOiJsaWIvZXM2Iiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5sZXQgQWN0aXZpdHkgPSByZXF1aXJlKFwiLi9hY3Rpdml0eVwiKTtcclxubGV0IHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcclxubGV0IGVycm9ycyA9IHJlcXVpcmUoXCIuLi9jb21tb24vZXJyb3JzXCIpO1xyXG5cclxuZnVuY3Rpb24gQ2FuY2VsKCkge1xyXG4gICAgQWN0aXZpdHkuY2FsbCh0aGlzKTtcclxuXHJcbiAgICB0aGlzLmZvcmNlID0gZmFsc2U7XHJcbn1cclxuXHJcbnV0aWwuaW5oZXJpdHMoQ2FuY2VsLCBBY3Rpdml0eSk7XHJcblxyXG5DYW5jZWwucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKGNhbGxDb250ZXh0LCBhcmdzKSB7XHJcbiAgICBpZiAodGhpcy5mb3JjZSkge1xyXG4gICAgICAgIGNhbGxDb250ZXh0LmZhaWwobmV3IGVycm9ycy5DYW5jZWxsZWQoKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjYWxsQ29udGV4dC5jYW5jZWwoKTtcclxuICAgIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsOyJdfQ==
