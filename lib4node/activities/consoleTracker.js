"use strict";
var _ = require("lodash");
function ConsoleTracker() {}
ConsoleTracker.prototype.activityStateChanged = function(activity, reason, result) {
  var name = activity.toString();
  if (result instanceof Error) {
    result = result.message;
  } else {
    if (_.isObject(result))
      result = JSON.stringify(result);
    if (_.isString(result) && result.length > 100)
      result = result.substr(0, 100);
  }
  if (result)
    result = ", result: " + result;
  else
    result = "";
  console.log("Activity '" + name + "' state changed - reason: " + reason + result);
};
module.exports = ConsoleTracker;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnNvbGVUcmFja2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsQUFBSSxFQUFBLENBQUEsQ0FBQSxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsUUFBTyxDQUFDLENBQUM7QUFFekIsT0FBUyxlQUFhLENBQUUsQUFBRCxDQUFHLEdBQzFCO0FBQUEsQUFFQSxhQUFhLFVBQVUscUJBQXFCLEVBQUksVUFBVSxRQUFPLENBQUcsQ0FBQSxNQUFLLENBQUcsQ0FBQSxNQUFLLENBQUc7QUFDaEYsQUFBSSxJQUFBLENBQUEsSUFBRyxFQUFJLENBQUEsUUFBTyxTQUFTLEFBQUMsRUFBQyxDQUFDO0FBQzlCLEtBQUksTUFBSyxXQUFhLE1BQUksQ0FBRztBQUN6QixTQUFLLEVBQUksQ0FBQSxNQUFLLFFBQVEsQ0FBQztFQUMzQixLQUNLO0FBQ0QsT0FBSSxDQUFBLFNBQVMsQUFBQyxDQUFDLE1BQUssQ0FBQztBQUFHLFdBQUssRUFBSSxDQUFBLElBQUcsVUFBVSxBQUFDLENBQUMsTUFBSyxDQUFDLENBQUM7QUFBQSxBQUN2RCxPQUFJLENBQUEsU0FBUyxBQUFDLENBQUMsTUFBSyxDQUFDLENBQUEsRUFBSyxDQUFBLE1BQUssT0FBTyxFQUFJLElBQUU7QUFBRyxXQUFLLEVBQUksQ0FBQSxNQUFLLE9BQU8sQUFBQyxDQUFDLENBQUEsQ0FBRyxJQUFFLENBQUMsQ0FBQztBQUFBLEVBQ2pGO0FBQUEsQUFDQSxLQUFJLE1BQUs7QUFBRyxTQUFLLEVBQUksQ0FBQSxZQUFXLEVBQUksT0FBSyxDQUFDOztBQUFPLFNBQUssRUFBSSxHQUFDLENBQUM7QUFBQSxBQUM1RCxRQUFNLElBQUksQUFBQyxDQUFDLFlBQVcsRUFBSSxLQUFHLENBQUEsQ0FBSSw2QkFBMkIsQ0FBQSxDQUFJLE9BQUssQ0FBQSxDQUFJLE9BQUssQ0FBQyxDQUFDO0FBQ3JGLENBQUE7QUFFQSxLQUFLLFFBQVEsRUFBSSxlQUFhLENBQUM7QUFDL0IiLCJmaWxlIjoiYWN0aXZpdGllcy9jb25zb2xlVHJhY2tlci5qcyIsInNvdXJjZVJvb3QiOiJDOi9HSVQvd29ya2Zsb3ctNC1ub2RlL2xpYi8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgXyA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XHJcblxyXG5mdW5jdGlvbiBDb25zb2xlVHJhY2tlcigpIHtcclxufVxyXG5cclxuQ29uc29sZVRyYWNrZXIucHJvdG90eXBlLmFjdGl2aXR5U3RhdGVDaGFuZ2VkID0gZnVuY3Rpb24gKGFjdGl2aXR5LCByZWFzb24sIHJlc3VsdCkge1xyXG4gICAgdmFyIG5hbWUgPSBhY3Rpdml0eS50b1N0cmluZygpO1xyXG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0Lm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoXy5pc09iamVjdChyZXN1bHQpKSByZXN1bHQgPSBKU09OLnN0cmluZ2lmeShyZXN1bHQpO1xyXG4gICAgICAgIGlmIChfLmlzU3RyaW5nKHJlc3VsdCkgJiYgcmVzdWx0Lmxlbmd0aCA+IDEwMCkgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cigwLCAxMDApO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlc3VsdCkgcmVzdWx0ID0gXCIsIHJlc3VsdDogXCIgKyByZXN1bHQ7IGVsc2UgcmVzdWx0ID0gXCJcIjtcclxuICAgIGNvbnNvbGUubG9nKFwiQWN0aXZpdHkgJ1wiICsgbmFtZSArIFwiJyBzdGF0ZSBjaGFuZ2VkIC0gcmVhc29uOiBcIiArIHJlYXNvbiArIHJlc3VsdCk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gQ29uc29sZVRyYWNrZXI7XHJcbiJdfQ==
