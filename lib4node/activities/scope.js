"use strict";
module.exports.create = function(scopeTree, node) {
  var obj = {
    has: function(name) {
      return scopeTree.hasProperty(node, name);
    },
    get: function(name) {
      return scopeTree.getValue(node, name);
    },
    set: function(name, value) {
      scopeTree.setValue(node, name, value);
      return value;
    },
    inc: function(name) {
      return obj.set(name, obj.get(name) + 1);
    },
    dec: function(name) {
      return obj.set(name, obj.get(name) - 1);
    },
    postfixInc: function(name) {
      var v = obj.get(name);
      obj.set(name, v + 1);
      return v;
    },
    postfixDec: function(name) {
      var v = obj.get(name);
      obj.set(name, v - 1);
      return v;
    },
    add: function(name, value) {
      return obj.set(name, obj.get(name) + value);
    },
    subtract: function(name, value) {
      return obj.set(name, obj.get(name) - value);
    },
    delete: function(name) {
      return scopeTree.deleteProperty(node, name);
    }
  };
  return obj;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjb3BlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsS0FBSyxRQUFRLE9BQU8sRUFBSSxVQUFVLFNBQVEsQ0FBRyxDQUFBLElBQUcsQ0FBRztBQUUvQyxBQUFJLElBQUEsQ0FBQSxHQUFFLEVBQUk7QUFDTixNQUFFLENBQUcsVUFBVSxJQUFHLENBQUc7QUFDakIsV0FBTyxDQUFBLFNBQVEsWUFBWSxBQUFDLENBQUMsSUFBRyxDQUFHLEtBQUcsQ0FBQyxDQUFDO0lBQzVDO0FBRUEsTUFBRSxDQUFHLFVBQVUsSUFBRyxDQUFHO0FBQ2pCLFdBQU8sQ0FBQSxTQUFRLFNBQVMsQUFBQyxDQUFDLElBQUcsQ0FBRyxLQUFHLENBQUMsQ0FBQztJQUN6QztBQUVBLE1BQUUsQ0FBRyxVQUFVLElBQUcsQ0FBRyxDQUFBLEtBQUksQ0FBRztBQUN4QixjQUFRLFNBQVMsQUFBQyxDQUFDLElBQUcsQ0FBRyxLQUFHLENBQUcsTUFBSSxDQUFDLENBQUM7QUFDckMsV0FBTyxNQUFJLENBQUM7SUFDaEI7QUFFQSxNQUFFLENBQUcsVUFBUyxJQUFHLENBQUc7QUFDaEIsV0FBTyxDQUFBLEdBQUUsSUFBSSxBQUFDLENBQUMsSUFBRyxDQUFHLENBQUEsR0FBRSxJQUFJLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQSxDQUFJLEVBQUEsQ0FBQyxDQUFDO0lBQzNDO0FBRUEsTUFBRSxDQUFHLFVBQVMsSUFBRyxDQUFHO0FBQ2hCLFdBQU8sQ0FBQSxHQUFFLElBQUksQUFBQyxDQUFDLElBQUcsQ0FBRyxDQUFBLEdBQUUsSUFBSSxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUEsQ0FBSSxFQUFBLENBQUMsQ0FBQztJQUMzQztBQUVBLGFBQVMsQ0FBRyxVQUFTLElBQUcsQ0FBRztBQUN2QixBQUFJLFFBQUEsQ0FBQSxDQUFBLEVBQUksQ0FBQSxHQUFFLElBQUksQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDO0FBQ3JCLFFBQUUsSUFBSSxBQUFDLENBQUMsSUFBRyxDQUFHLENBQUEsQ0FBQSxFQUFJLEVBQUEsQ0FBQyxDQUFDO0FBQ3BCLFdBQU8sRUFBQSxDQUFDO0lBQ1o7QUFFQSxhQUFTLENBQUcsVUFBUyxJQUFHLENBQUc7QUFDdkIsQUFBSSxRQUFBLENBQUEsQ0FBQSxFQUFJLENBQUEsR0FBRSxJQUFJLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQztBQUNyQixRQUFFLElBQUksQUFBQyxDQUFDLElBQUcsQ0FBRyxDQUFBLENBQUEsRUFBSSxFQUFBLENBQUMsQ0FBQztBQUNwQixXQUFPLEVBQUEsQ0FBQztJQUNaO0FBRUEsTUFBRSxDQUFHLFVBQVMsSUFBRyxDQUFHLENBQUEsS0FBSSxDQUFHO0FBQ3ZCLFdBQU8sQ0FBQSxHQUFFLElBQUksQUFBQyxDQUFDLElBQUcsQ0FBRyxDQUFBLEdBQUUsSUFBSSxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUEsQ0FBSSxNQUFJLENBQUMsQ0FBQztJQUMvQztBQUVBLFdBQU8sQ0FBRyxVQUFTLElBQUcsQ0FBRyxDQUFBLEtBQUksQ0FBRztBQUM1QixXQUFPLENBQUEsR0FBRSxJQUFJLEFBQUMsQ0FBQyxJQUFHLENBQUcsQ0FBQSxHQUFFLElBQUksQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFBLENBQUksTUFBSSxDQUFDLENBQUM7SUFDL0M7QUFFQSxTQUFLLENBQUcsVUFBVSxJQUFHLENBQUc7QUFDcEIsV0FBTyxDQUFBLFNBQVEsZUFBZSxBQUFDLENBQUMsSUFBRyxDQUFHLEtBQUcsQ0FBQyxDQUFDO0lBQy9DO0FBQUEsRUFDSixDQUFDO0FBRUQsT0FBTyxJQUFFLENBQUM7QUF1QmQsQ0FBQTtBQUNBIiwiZmlsZSI6ImFjdGl2aXRpZXMvc2NvcGUuanMiLCJzb3VyY2VSb290IjoiQzovR0lUL21vbmdvLWNydW5jaC9kZXBzL3dvcmtmbG93LTQtbm9kZS9saWIvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMuY3JlYXRlID0gZnVuY3Rpb24gKHNjb3BlVHJlZSwgbm9kZSkge1xyXG4gICAgLy8gQ2Fubm90IHVzZSBwcm94eSBiZWNhdXNlIG9mIGN1cnJlbnQgdjggcHJveHkgaXNzdWVzXHJcbiAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgIGhhczogZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNjb3BlVHJlZS5oYXNQcm9wZXJ0eShub2RlLCBuYW1lKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzY29wZVRyZWUuZ2V0VmFsdWUobm9kZSwgbmFtZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgc2NvcGVUcmVlLnNldFZhbHVlKG5vZGUsIG5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGluYzogZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqLnNldChuYW1lLCBvYmouZ2V0KG5hbWUpICsgMSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZGVjOiBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmouc2V0KG5hbWUsIG9iai5nZXQobmFtZSkgLSAxKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwb3N0Zml4SW5jOiBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciB2ID0gb2JqLmdldChuYW1lKTtcclxuICAgICAgICAgICAgb2JqLnNldChuYW1lLCB2ICsgMSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBvc3RmaXhEZWM6IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIHYgPSBvYmouZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgICBvYmouc2V0KG5hbWUsIHYgLSAxKTtcclxuICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgYWRkOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqLnNldChuYW1lLCBvYmouZ2V0KG5hbWUpICsgdmFsdWUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHN1YnRyYWN0OiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqLnNldChuYW1lLCBvYmouZ2V0KG5hbWUpIC0gdmFsdWUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGRlbGV0ZTogZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNjb3BlVHJlZS5kZWxldGVQcm9wZXJ0eShub2RlLCBuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBvYmo7XHJcbiAgICAvL3JldHVybiBQcm94eS5jcmVhdGUoXHJcbiAgICAvLyAgICB7XHJcbiAgICAvLyAgICAgICAgaGFzOiBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgLy8gICAgICAgICAgICByZXR1cm4gc2NvcGVUcmVlLmhhc1Byb3BlcnR5KG5vZGUsIG5hbWUpO1xyXG4gICAgLy8gICAgICAgIH0sXHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgIGdldDogZnVuY3Rpb24gKHRhcmdldCwgbmFtZSkge1xyXG4gICAgLy8gICAgICAgICAgICByZXR1cm4gc2NvcGVUcmVlLmdldFZhbHVlKG5vZGUsIG5hbWUpO1xyXG4gICAgLy8gICAgICAgIH0sXHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgIHNldDogZnVuY3Rpb24gKHRhcmdldCwgbmFtZSwgdmFsdWUpIHtcclxuICAgIC8vICAgICAgICAgICAgcmV0dXJuIHNjb3BlVHJlZS5zZXRWYWx1ZShub2RlLCBuYW1lLCB2YWx1ZSk7XHJcbiAgICAvLyAgICAgICAgfSxcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgZGVsZXRlOiBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgLy8gICAgICAgICAgICByZXR1cm4gc2NvcGVUcmVlLmRlbGV0ZVByb3BlcnR5KG5vZGUsIG5hbWUpO1xyXG4gICAgLy8gICAgICAgIH0sXHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgIGVudW1lcmF0ZTogZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgLy8gICAgICAgICAgICByZXR1cm4gc2NvcGVUcmVlLmVudW1lcmF0ZVByb3BlcnR5TmFtZXMobm9kZSk7XHJcbiAgICAvLyAgICAgICAgfVxyXG4gICAgLy8gICAgfSk7XHJcbn1cclxuIl19
