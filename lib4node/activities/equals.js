"use strict";
var Activity = require("./activity");
var util = require("util");
function Equals() {
  Activity.call(this);
  this.value = null;
  this.to = null;
  this.is = true;
  this.isNot = false;
  this.strict = false;
}
util.inherits(Equals, Activity);
Equals.prototype.run = function(callContext, args) {
  callContext.schedule([this.get('value'), this.get('to')], '_valueAndToGot');
};
Equals.prototype._valueAndToGot = function(callContext, reason, result) {
  if (reason !== Activity.states.complete) {
    callContext.end(reason, result);
    return ;
  }
  if (this.get("strict") ? result[0] === result[1] : result[0] == result[1]) {
    callContext.schedule(this.get('is'), '_done');
  } else {
    callContext.schedule(this.get('isNot'), '_done');
  }
};
Equals.prototype._done = function(callContext, reason, result) {
  callContext.end(reason, result);
};
module.exports = Equals;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVxdWFscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLEFBQUksRUFBQSxDQUFBLFFBQU8sRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLFlBQVcsQ0FBQyxDQUFDO0FBQ3BDLEFBQUksRUFBQSxDQUFBLElBQUcsRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLE1BQUssQ0FBQyxDQUFDO0FBRTFCLE9BQVMsT0FBSyxDQUFFLEFBQUQsQ0FBRztBQUNkLFNBQU8sS0FBSyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUM7QUFFbkIsS0FBRyxNQUFNLEVBQUksS0FBRyxDQUFDO0FBQ2pCLEtBQUcsR0FBRyxFQUFJLEtBQUcsQ0FBQztBQUNkLEtBQUcsR0FBRyxFQUFJLEtBQUcsQ0FBQztBQUNkLEtBQUcsTUFBTSxFQUFJLE1BQUksQ0FBQztBQUNsQixLQUFHLE9BQU8sRUFBSSxNQUFJLENBQUM7QUFDdkI7QUFBQSxBQUVBLEdBQUcsU0FBUyxBQUFDLENBQUMsTUFBSyxDQUFHLFNBQU8sQ0FBQyxDQUFDO0FBRS9CLEtBQUssVUFBVSxJQUFJLEVBQUksVUFBUyxXQUFVLENBQUcsQ0FBQSxJQUFHLENBQUc7QUFDL0MsWUFBVSxTQUFTLEFBQUMsQ0FBQyxDQUFDLElBQUcsSUFBSSxBQUFDLENBQUMsT0FBTSxDQUFDLENBQUcsQ0FBQSxJQUFHLElBQUksQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDLENBQUcsaUJBQWUsQ0FBQyxDQUFDO0FBQy9FLENBQUE7QUFFQSxLQUFLLFVBQVUsZUFBZSxFQUFJLFVBQVMsV0FBVSxDQUFHLENBQUEsTUFBSyxDQUFHLENBQUEsTUFBSyxDQUFHO0FBQ3BFLEtBQUksTUFBSyxJQUFNLENBQUEsUUFBTyxPQUFPLFNBQVMsQ0FBRztBQUNyQyxjQUFVLElBQUksQUFBQyxDQUFDLE1BQUssQ0FBRyxPQUFLLENBQUMsQ0FBQztBQUMvQixXQUFNO0VBQ1Y7QUFBQSxBQUVBLEtBQUksSUFBRyxJQUFJLEFBQUMsQ0FBQyxRQUFPLENBQUMsQ0FBQSxDQUFJLENBQUEsTUFBSyxDQUFFLENBQUEsQ0FBQyxJQUFNLENBQUEsTUFBSyxDQUFFLENBQUEsQ0FBQyxDQUFBLENBQUksQ0FBQSxNQUFLLENBQUUsQ0FBQSxDQUFDLEdBQUssQ0FBQSxNQUFLLENBQUUsQ0FBQSxDQUFDLENBQUc7QUFDdkUsY0FBVSxTQUFTLEFBQUMsQ0FBQyxJQUFHLElBQUksQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFHLFFBQU0sQ0FBQyxDQUFDO0VBQ2pELEtBQ0s7QUFDRCxjQUFVLFNBQVMsQUFBQyxDQUFDLElBQUcsSUFBSSxBQUFDLENBQUMsT0FBTSxDQUFDLENBQUcsUUFBTSxDQUFDLENBQUM7RUFDcEQ7QUFBQSxBQUNKLENBQUE7QUFFQSxLQUFLLFVBQVUsTUFBTSxFQUFJLFVBQVMsV0FBVSxDQUFHLENBQUEsTUFBSyxDQUFHLENBQUEsTUFBSyxDQUFHO0FBQzNELFlBQVUsSUFBSSxBQUFDLENBQUMsTUFBSyxDQUFHLE9BQUssQ0FBQyxDQUFDO0FBQ25DLENBQUE7QUFFQSxLQUFLLFFBQVEsRUFBSSxPQUFLLENBQUM7QUFBQSIsImZpbGUiOiJhY3Rpdml0aWVzL2VxdWFscy5qcyIsInNvdXJjZVJvb3QiOiJDOi9HSVQvd29ya2Zsb3ctNC1ub2RlL2xpYi8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQWN0aXZpdHkgPSByZXF1aXJlKFwiLi9hY3Rpdml0eVwiKTtcclxudmFyIHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcclxuXHJcbmZ1bmN0aW9uIEVxdWFscygpIHtcclxuICAgIEFjdGl2aXR5LmNhbGwodGhpcyk7XHJcblxyXG4gICAgdGhpcy52YWx1ZSA9IG51bGw7XHJcbiAgICB0aGlzLnRvID0gbnVsbDtcclxuICAgIHRoaXMuaXMgPSB0cnVlO1xyXG4gICAgdGhpcy5pc05vdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5zdHJpY3QgPSBmYWxzZTtcclxufVxyXG5cclxudXRpbC5pbmhlcml0cyhFcXVhbHMsIEFjdGl2aXR5KTtcclxuXHJcbkVxdWFscy5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oY2FsbENvbnRleHQsIGFyZ3MpIHtcclxuICAgIGNhbGxDb250ZXh0LnNjaGVkdWxlKFt0aGlzLmdldCgndmFsdWUnKSwgdGhpcy5nZXQoJ3RvJyldLCAnX3ZhbHVlQW5kVG9Hb3QnKTtcclxufVxyXG5cclxuRXF1YWxzLnByb3RvdHlwZS5fdmFsdWVBbmRUb0dvdCA9IGZ1bmN0aW9uKGNhbGxDb250ZXh0LCByZWFzb24sIHJlc3VsdCkge1xyXG4gICAgaWYgKHJlYXNvbiAhPT0gQWN0aXZpdHkuc3RhdGVzLmNvbXBsZXRlKSB7XHJcbiAgICAgICAgY2FsbENvbnRleHQuZW5kKHJlYXNvbiwgcmVzdWx0KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZ2V0KFwic3RyaWN0XCIpID8gcmVzdWx0WzBdID09PSByZXN1bHRbMV0gOiByZXN1bHRbMF0gPT0gcmVzdWx0WzFdKSB7XHJcbiAgICAgICAgY2FsbENvbnRleHQuc2NoZWR1bGUodGhpcy5nZXQoJ2lzJyksICdfZG9uZScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY2FsbENvbnRleHQuc2NoZWR1bGUodGhpcy5nZXQoJ2lzTm90JyksICdfZG9uZScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5FcXVhbHMucHJvdG90eXBlLl9kb25lID0gZnVuY3Rpb24oY2FsbENvbnRleHQsIHJlYXNvbiwgcmVzdWx0KSB7XHJcbiAgICBjYWxsQ29udGV4dC5lbmQocmVhc29uLCByZXN1bHQpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEVxdWFsczsiXX0=
