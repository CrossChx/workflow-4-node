"use strict";
var KeepAlive = require("./keepAlive");
var util = require("util");
var Promise = require("bluebird");
function KeepLockAlive(persistence, lockInfo, inLockTimeout, renewPeriod) {
  var self = this;
  KeepAlive.call(self, function() {
    if (lockInfo && lockInfo.id)
      return persistence.renewLock(lockInfo.id, inLockTimeout);
    else
      return Promise.resolve(0);
  }, renewPeriod);
}
util.inherits(KeepLockAlive, KeepAlive);
module.exports = KeepLockAlive;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtlZXBMb2NrQWxpdmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxBQUFJLEVBQUEsQ0FBQSxTQUFRLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxhQUFZLENBQUMsQ0FBQztBQUN0QyxBQUFJLEVBQUEsQ0FBQSxJQUFHLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxNQUFLLENBQUMsQ0FBQztBQUMxQixBQUFJLEVBQUEsQ0FBQSxPQUFNLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxVQUFTLENBQUMsQ0FBQztBQUVqQyxPQUFTLGNBQVksQ0FBRSxXQUFVLENBQUcsQ0FBQSxRQUFPLENBQUcsQ0FBQSxhQUFZLENBQUcsQ0FBQSxXQUFVLENBQUc7QUFDdEUsQUFBSSxJQUFBLENBQUEsSUFBRyxFQUFJLEtBQUcsQ0FBQztBQUNmLFVBQVEsS0FBSyxBQUFDLENBQ1YsSUFBRyxDQUNILFVBQVUsQUFBRCxDQUFHO0FBQ1IsT0FBSSxRQUFPLEdBQUssQ0FBQSxRQUFPLEdBQUc7QUFBRyxXQUFPLENBQUEsV0FBVSxVQUFVLEFBQUMsQ0FBQyxRQUFPLEdBQUcsQ0FBRyxjQUFZLENBQUMsQ0FBQzs7QUFBTyxXQUFPLENBQUEsT0FBTSxRQUFRLEFBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQztBQUFBLEVBQ3pILENBQ0EsWUFBVSxDQUFDLENBQUM7QUFDcEI7QUFBQSxBQUVBLEdBQUcsU0FBUyxBQUFDLENBQUMsYUFBWSxDQUFHLFVBQVEsQ0FBQyxDQUFDO0FBRXZDLEtBQUssUUFBUSxFQUFJLGNBQVksQ0FBQztBQUM5QiIsImZpbGUiOiJob3N0aW5nL2tlZXBMb2NrQWxpdmUuanMiLCJzb3VyY2VSb290IjoiQzovR0lUL3dvcmtmbG93LTQtbm9kZS9saWIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEtlZXBBbGl2ZSA9IHJlcXVpcmUoXCIuL2tlZXBBbGl2ZVwiKTtcclxudmFyIHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcclxudmFyIFByb21pc2UgPSByZXF1aXJlKFwiYmx1ZWJpcmRcIik7XHJcblxyXG5mdW5jdGlvbiBLZWVwTG9ja0FsaXZlKHBlcnNpc3RlbmNlLCBsb2NrSW5mbywgaW5Mb2NrVGltZW91dCwgcmVuZXdQZXJpb2QpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIEtlZXBBbGl2ZS5jYWxsKFxyXG4gICAgICAgIHNlbGYsXHJcbiAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobG9ja0luZm8gJiYgbG9ja0luZm8uaWQpIHJldHVybiBwZXJzaXN0ZW5jZS5yZW5ld0xvY2sobG9ja0luZm8uaWQsIGluTG9ja1RpbWVvdXQpOyBlbHNlIHJldHVybiBQcm9taXNlLnJlc29sdmUoMCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW5ld1BlcmlvZCk7XHJcbn1cclxuXHJcbnV0aWwuaW5oZXJpdHMoS2VlcExvY2tBbGl2ZSwgS2VlcEFsaXZlKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gS2VlcExvY2tBbGl2ZTtcclxuIl19
