"use strict";
var Guid = require("guid");
var _ = require("lodash");
function WFObject(initArgs) {
  if (_.isPlainObject(initArgs))
    _.extend(this, initArgs);
  this._instanceId = Guid.create().toString();
}
Object.defineProperties(WFObject.prototype, {_keys: {
    value: null,
    writable: true,
    enumerable: false
  }});
WFObject.prototype._getMapKey = function() {
  return this._instanceId;
};
WFObject.prototype.getKeys = function() {
  if (!this._keys) {
    var keys = [];
    for (var k in this)
      keys.push(k);
    this._keys = keys;
  }
  return this._keys;
};
WFObject.prototype.clearKeys = function() {
  this._keys = null;
};
module.exports = WFObject;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndmT2JqZWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsQUFBSSxFQUFBLENBQUEsSUFBRyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsTUFBSyxDQUFDLENBQUM7QUFDMUIsQUFBSSxFQUFBLENBQUEsQ0FBQSxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsUUFBTyxDQUFDLENBQUM7QUFFekIsT0FBUyxTQUFPLENBQUUsUUFBTyxDQUFHO0FBQ3hCLEtBQUksQ0FBQSxjQUFjLEFBQUMsQ0FBQyxRQUFPLENBQUM7QUFBRyxJQUFBLE9BQU8sQUFBQyxDQUFDLElBQUcsQ0FBRyxTQUFPLENBQUMsQ0FBQztBQUFBLEFBQ3ZELEtBQUcsWUFBWSxFQUFJLENBQUEsSUFBRyxPQUFPLEFBQUMsRUFBQyxTQUFTLEFBQUMsRUFBQyxDQUFDO0FBQy9DO0FBQUEsQUFFQSxLQUFLLGlCQUFpQixBQUFDLENBQUMsUUFBTyxVQUFVLENBQUcsRUFDeEMsS0FBSSxDQUFHO0FBQ0gsUUFBSSxDQUFHLEtBQUc7QUFDVixXQUFPLENBQUcsS0FBRztBQUNiLGFBQVMsQ0FBRyxNQUFJO0FBQUEsRUFDcEIsQ0FDSixDQUFDLENBQUE7QUFFRCxPQUFPLFVBQVUsV0FBVyxFQUFJLFVBQVUsQUFBRCxDQUFHO0FBQ3hDLE9BQU8sQ0FBQSxJQUFHLFlBQVksQ0FBQztBQUMzQixDQUFBO0FBRUEsT0FBTyxVQUFVLFFBQVEsRUFBSSxVQUFVLEFBQUQsQ0FBRztBQUNyQyxLQUFJLENBQUMsSUFBRyxNQUFNLENBQUc7QUFDYixBQUFJLE1BQUEsQ0FBQSxJQUFHLEVBQUksR0FBQyxDQUFDO0FBQ2IsUUFBUyxHQUFBLENBQUEsQ0FBQSxDQUFBLEVBQUssS0FBRztBQUFHLFNBQUcsS0FBSyxBQUFDLENBQUMsQ0FBQSxDQUFDLENBQUM7QUFBQSxBQUNoQyxPQUFHLE1BQU0sRUFBSSxLQUFHLENBQUM7RUFDckI7QUFBQSxBQUNBLE9BQU8sQ0FBQSxJQUFHLE1BQU0sQ0FBQztBQUNyQixDQUFBO0FBRUEsT0FBTyxVQUFVLFVBQVUsRUFBSSxVQUFVLEFBQUQsQ0FBRztBQUN2QyxLQUFHLE1BQU0sRUFBSSxLQUFHLENBQUM7QUFDckIsQ0FBQTtBQUVBLEtBQUssUUFBUSxFQUFJLFNBQU8sQ0FBQztBQUFBIiwiZmlsZSI6ImNvbW1vbi93Zk9iamVjdC5qcyIsInNvdXJjZVJvb3QiOiJDOi9HSVQvbW9uZ28tY3J1bmNoL2RlcHMvd29ya2Zsb3ctNC1ub2RlL2xpYi8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgR3VpZCA9IHJlcXVpcmUoXCJndWlkXCIpO1xyXG52YXIgXyA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XHJcblxyXG5mdW5jdGlvbiBXRk9iamVjdChpbml0QXJncykge1xyXG4gICAgaWYgKF8uaXNQbGFpbk9iamVjdChpbml0QXJncykpIF8uZXh0ZW5kKHRoaXMsIGluaXRBcmdzKTtcclxuICAgIHRoaXMuX2luc3RhbmNlSWQgPSBHdWlkLmNyZWF0ZSgpLnRvU3RyaW5nKCk7XHJcbn1cclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFdGT2JqZWN0LnByb3RvdHlwZSwge1xyXG4gICAgX2tleXM6IHtcclxuICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG4gICAgfVxyXG59KVxyXG5cclxuV0ZPYmplY3QucHJvdG90eXBlLl9nZXRNYXBLZXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5zdGFuY2VJZDtcclxufVxyXG5cclxuV0ZPYmplY3QucHJvdG90eXBlLmdldEtleXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoIXRoaXMuX2tleXMpIHtcclxuICAgICAgICB2YXIga2V5cyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGsgaW4gdGhpcykga2V5cy5wdXNoKGspO1xyXG4gICAgICAgIHRoaXMuX2tleXMgPSBrZXlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuX2tleXM7XHJcbn1cclxuXHJcbldGT2JqZWN0LnByb3RvdHlwZS5jbGVhcktleXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLl9rZXlzID0gbnVsbDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBXRk9iamVjdDsiXX0=
